

# åˆ·é¢˜æ‰“å¡

27é“é¢˜æ¯å¤©6é“ï¼Œæœ¬å‘¨åˆ·å®Œ

> è¦æ±‚æ—¶é—´å¤æ‚åº¦50%ä»¥ä¸Šï¼Œç©ºé—´å¤æ‚åº¦ä¹Ÿè¦50%ä»¥ä¸Š

1.ä¸¤æ•°ä¹‹å’Œ

> ä¸€ä¸ªå¾ªç¯è·‘å®Œï¼šæŠŠå·®å€¼éœ€è¦çš„å·®å€¼å­˜åœ¨å’Œå½“å‰åæ ‡å­˜åœ¨mapé‡Œé¢
>
> ä»£ç è¡Œæ•°ä¹Ÿä¼šå½±å“æ€§èƒ½
>
> Mapå¯¹è±¡ä¹Ÿæ˜¯ç©ºé—´æ¢æ—¶é—´
>
> hasOwnProperty

```javascript
var twoSum = function(nums, target) {
		const map = {};
  	for (let i = 0;i < nums.length;i++) {
      const num = nums[i];
      if (map.hasOwnProperty(num)) return [i, map[num]]
			map[target - num] = i;
    }
  return [];
};
```



100.ç›¸åŒçš„æ ‘

> è¿™é‡Œæˆ‘æ›²è§£äº†åŸé¢˜çš„æ„æ€ï¼Œæˆ‘ä»¥ä¸ºä»–çš„è¾“å…¥æ˜¯[1,2,3]ç»“æœå®ƒæ˜¯ä¸ªå¯¹è±¡
>
> è¿˜æ˜¯æˆ‘çš„äºŒå‰æ ‘çš„æ¦‚å¿µæœ‰ç‚¹å¿˜è®°äº†

```javascript
var isSameTree = function(p, q) {
	return (!p && !q ) || (!(!p || !q) && p.val === q.val && isSameTree(p.left, q.left) && isSameTree(p.right, q.right))
};
```



104.äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦.

> ç©ºé—´å¤æ‚åº¦ä¸è¡ŒğŸ™…
>
> å¦‚æœå¾ªç¯å£°æ˜å˜é‡ä¹Ÿä¼šå½±å“ç©ºé—´å¤æ‚åº¦
>
> è¦é™ä½çš„è¯å°±è¦æŠŠdepthæ‹¿æ‰
>
> é€šè¿‡è¿”å›å€¼ä¿å­˜å˜é‡
>
> å…¶å®åŸå› è¿˜åœ¨äºä½ æ²¡æœ‰ææ¸…æ¥šé€’å½’çš„é¡ºåº
>
> å‡½æ•°çš„é€’å½’æ˜¯ä»¥æ ˆçš„æ–¹å¼è¿è¡Œçš„ï¼Œå…ˆè¿›åå‡º
>
> åŒºåˆ«åœ¨äºï¼Œä¸€ä¸ªæ˜¯åœ¨é€’å½’è¿”å›çš„æ—¶å€™åŠ ï¼Œä¸€ä¸ªæ˜¯åœ¨é€’å½’ä¼ å‚çš„æ—¶å€™åŠ ï¼Œä¼ å‚ä¼šå£°æ˜æ–°çš„å˜é‡ï¼Œå¯¼è‡´ç©ºé—´å¤æ‚åº¦è¿‡é«˜

```javascript
var maxDepth = function(root) {
  return !root ? 0 : Math.max(maxDepth(root.left), maxDepth(root.right)) + 1;
};
```

11.ç››æœ€å¤šæ°´çš„å®¹å™¨

> å¯¹è¦ä¹˜çš„æ•°è¿›è¡Œæ’åºæ¯”è¾ƒ
>
> a b
>
> A B
>
> é«˜æ˜¯æœ€å°æ•°
>
> å·®æ˜¯é•¿
>
> ç†æƒ³çŠ¶å†µä¸‹ éš”çš„è¶Šè¿œ æ•°è¶Šå¤§è¶Šå¥½
>
> ç®—å‡ºä¸¤ä¸ªå€¼ ä¸€ä¸ªæ˜¯å·® ä¸€ä¸ªæ˜¯æœ€å°æ•° è¦ä¿è¯è¿™ä¸¤ä¸ªæ•°æ˜¯æ‰€æœ‰æ•°é‡Œé¢æœ€å¤§çš„
>
> å·®å’Œæœ€å°æ•°æ˜¯æœ‰å…³è”çš„å—ï¼Ÿ
>
> å°±ç›¸å½“äºè¦åŒæ—¶ä¿è¯ä¸¤ä¸ªå…³è”æ•°æœ€åŒ–
>
> ç©·ä¸¾è‚¯å®šèƒ½è§£å†³
>
> åœºæ™¯è½¬åŒ–ï¼š
>
> å’Œæœ€å°æ•°çš„å·®æœ€å¤§
>
> æ‰¾å‡ºæœ€å¤§çš„æ•°ï¼Œå’Œä¸€ä¸ªç¦»è¿™ä¸ªæœ€å¤§æ•°æœ€è¿œçš„æ•°
>
> æ¯ä¸ªä¸‹æ ‡çš„å€¼ä¸º1
>
> 7 * 7
>
> 5 * 8
>
> åŒæ¸¸æ ‡å¾€ä¸­é—´ç§»åŠ¨
>
> è™½ç„¶å·®ä¼šå˜å°ä½†æ˜¯å€¼æœ‰å¯èƒ½ä¼šå˜å¤§ï¼Œå¾€æœ‰åˆ©çš„æ–¹å‘ç§»åŠ¨
>
> å¦‚æœæˆ‘åè¿‡æ¥æƒ³ï¼Œæˆ‘ç§»åŠ¨å¤§çš„å…ƒç´ è€Œä¸æ˜¯å°çš„å…ƒç´ ï¼ŒåŒºåˆ«åœ¨å“ªé‡Œ
>
> 18
>
> 28
>
> æ„å‘³ç€2ä¸ªæ•°éƒ½æ¯”18å°
>
> 27
>
> 1234576
>
> 16 5*1
>
> 26 4 * 2
>
> 17 1*6
>
> æ€è·¯çš„æ ¸å¿ƒæ˜¯æ’é™¤å°æ•°
>
> ç¬¬ä¸€ï¼šå›¾æ˜¯å¯ä»¥å¸®åŠ©ç†è§£çš„ï¼Œæˆ‘ä¹‹å‰çš„ç†è§£å¿½ç•¥äº†å›¾çš„ä½œç”¨
>
> ç¬¬äºŒï¼šä»å›¾ä¸Šå¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹å‡ºæ¥ï¼ŒåŒºåŸŸçš„é¢ç§¯å–å†³å°æ•°ï¼Œä¸å–å†³äºå¤§æ•°
>
> ç¬¬ä¸‰ï¼šæ‰€ä»¥æˆ‘ä»¬æŸ¥æ‰¾çš„å…¶å®æ˜¯æœ€å¤§çš„å°æ•°ï¼Œå’Œæœ€è¿œçš„è·ç¦»
>
> ç¬¬å››ï¼šæ‰€ä»¥åŒæ¸¸æ ‡å¯ä»¥åªç§»åŠ¨å°æ•°
>
> è¿™é“é¢˜çš„æ ¸å¿ƒæ€è·¯åœ¨äºå¦‚æœæ²¡æœ‰æŠŠæ•°æ®è½¬åŒ–ä¸ºå›¾ï¼Œé‚£å‡ ä¹æ˜¯å¾ˆéš¾å¾—åˆ°è§£çš„ï¼ŒæŠŠæŠ½è±¡çš„æ•°æ®å…·åƒåŒ–
>
> å¾ªç¯ä»€ä¹ˆæ—¶å€™ç»“æŸï¼Ÿ
>
> è¦åˆ©ç”¨ç‰¹æ€§æ¥è§£å†³é—®é¢˜ï¼ŒæŠ“ä½æ ¸å¿ƒçŸ›ç›¾

```javascript
var maxArea = function(height) {
	let start = 0;
  let end = height.length - 1;
  let max = 0;
  while (start < end) {
    max = Math.max(max, Math.min(height[start], height[end]) * (end - start))
    if (height[start] > height[end]) {
      end--;
    } else {
      start++;
    }
  }
  return max;
};
```



110.å¹³è¡¡äºŒå‰æ ‘

> ä½ ä¸çŸ¥é“æœ€å°é•¿åº¦æœ‰å¤šæ·±
>
> æ ‘çš„éå†æ˜¯è¦**éå†**
>
> TreeNode {  val: 1,  right:   TreeNode {     val: 2,     right: TreeNode { val: 3, right: [TreeNode], left: null },     left: null },  left:   TreeNode {     val: 2,     right: null,     left: TreeNode { val: 3, right: null, left: [TreeNode] } } } 3 3
>
> é—®é¢˜åˆ†æä¸è¶³ï¼šé—®é¢˜åœ¨äºå·®å€¼ç­‰äº1è¿™ä¸ªå…³é”®æ•°å­—ä¸Šé¢
>
> åˆ©ç”¨é€’å½’ä¸€æŠŠåˆ°ä½
>
> é€’å½’çš„æ ¸å¿ƒåœ¨äºæŠŠå¤æ‚çš„é—®é¢˜åˆ†è§£æˆä¸ºå¯ä»¥å¾ªç¯çš„ç®€å•é—®é¢˜ å¹¶å®šä¹‰å¥½å‡ºå£
>
> å…³é”®ç‚¹åœ¨äºéœ€è¦æŠŠæ‰€æœ‰çš„æ·±åº¦éƒ½è®¡ç®—å‡ºæ¥
>
> å®šä¹‰ä¸€ä¸ªå¾ªç¯
>
> å…ˆå®šä¹‰è¡Œä¸ºï¼Œä½ è¦åšå“ªäº›åŠ¨ä½œ

```javascript
var isBalanced = function(root) {
  if (!root) return true;
  if (!isBalanced(root.left) || !isBalanced(root.right)) {
    return false;
  }
  const getLen = node => node ? Math.max(getLen(node.left), getLen(node.right)) + 1 : 0;
  const leftLen = getLen(root.left);
  const rightLen = getLen(root.right);
  return  leftLen === rightLen || Math.abs(leftLen - rightLen) === 1;
};
```

ä»¥ä¸Šç®—æ³•ä¼šäº§ç”Ÿé‡å¤è®¡ç®—ï¼Œä¸‹é¢æ¼”ç¤ºé€šè¿‡å­èŠ‚ç‚¹æ·±åº¦è®¡ç®—çˆ¶èŠ‚ç‚¹ç®—æ³•

> ä¸è¦æ‹…å¿ƒé€’å½’ï¼Œé€’å½’è‚¯å®šæ˜¯ä¼šè§¦åº•çš„
>
> æ·±åº¦ä»å­èŠ‚ç‚¹å¼€å§‹è®¡ç®— é€’å½’çš„æ—¶å€™è¿”å›ä¸ªæ•°ç»„
>
> ä½†æ˜¯å˜é‡å£°æ˜è¿‡å¤šå¯¼è‡´å ç”¨å†…å­˜æ¯”è¾ƒé«˜
>
> ç”¨-1æ¥ä»£è¡¨ä¸ç¬¦åˆ

```javascript
const loop = node => {
   	if (!node) return 0
    const left = loop(node.left)
    if (left === -1) return -1
    const right = loop(node.right)
    if (right === -1) return -1
    if (left !== right && Math.abs(left - right) !== 1) return -1
    return Math.max(left, right) + 1
}
const isBalanced = root => loop(root) !== -1
```



141.ç¯å½¢é“¾è¡¨

> æˆ‘æ¯æ¬¡éƒ½ä¸èƒ½ä¸€æ¬¡æ€§ç†è§£é¢˜æ„ è¿™æ˜¯æœ€å¤§çš„é—®é¢˜
>
> ç¯å½¢é“¾è¡¨çš„`pos`æ ¹æœ¬ä¸å­˜åœ¨ï¼Œå®ƒæ˜¯è¦æˆ‘åˆ¤æ–­é“¾è¡¨æ˜¯å¦å‘ç”Ÿå¾ªç¯å°±å¯ä»¥äº†
>
> å…ˆè§£ä¸€é å°½ç®¡ä¸æ˜¯æœ€ä¼˜
>
> åŒæŒ‡é’ˆï¼Ÿï¼Ÿï¼Ÿï¼Ÿå§æ§½ è¿™è¿˜æ˜¯åˆå­¦è€… è¿™ä¹Ÿå¤ªæ‰“å‡»äººäº†å§
>
> ä¸è¦éšä¾¿æ”¹åŸå§‹æ•°æ®
>
> é€’å½’çš„ç©ºé—´å¤æ‚åº¦ä¼šé«˜ä¸€äº› å› ä¸ºå‡½æ•°ä¼šåˆ›å»ºæ–°çš„å‡½æ•°ä½œç”¨åŸŸ

```javascript
var hasCycle = function(head) {
  	if (!head) return false
  	if (head.visited) return true;
  	head.visited = true;
    return hasCycle(head.next);
};
```

å¿«æ…¢æŒ‡é’ˆ

æˆ‘å¯¹é“¾è¡¨è¿™ç§æ•°æ®ç»“æ„è¿˜æ˜¯ä¸ç†Ÿæ‚‰

JSä¸­ä¸”å’Œæˆ–ä¸ä¸€å®šä¼šè¿”å›boolean

ç›¸å½“äºæ˜¯æ¸¸æ ‡æ³•

```javascript
var hasCycle = function(head) {
 	let fast = head && head.next
  let slow = head
  while (fast !== slow) {
    fast = fast && fast.next && fast.next.next
    slow = slow.next
  }
  return !!slow
}
```



142.ç¯å½¢é“¾è¡¨-ii

> è¿™é¢˜æ²¡åŠæ³•ç”¨å¿«æ…¢æŒ‡é’ˆ

- ä¸ç”¨é¢å¤–ç©ºé—´
- ä¸èƒ½ä¿®æ”¹é“¾è¡¨æ•°æ®

> åŒå‘é“¾è¡¨ï¼Ÿï¼Ÿä½†æ˜¯å®ƒæ˜ç¡®æåˆ°ä¸èƒ½æ”¹é“¾è¡¨å±æ€§
>
> #### Floyd ç®—æ³•
>
> set = å“ˆå¸Œè¡¨
>
> é¾Ÿå…”èµ›è·‘
>
> è¿™ç§ç®—æ³•é¢˜æ²¡æœ‰è®­ç»ƒè¿‡çš„è‚¯å®šæ˜¯ä¸çŸ¥é“çš„
>
> åƒæ˜¯é€šè¿‡å…¬å¼æ¨å¯¼å‡ºæ¥çš„
>
> è¿½èµ¶è·ç¦»æ˜¯5
>
> ä¸€ç§æ˜¯æƒ³è±¡è¿™ä¸ªåœˆå¾ˆå¤§
>
> ç¬¬äºŒç§æ˜¯è§£é‡Šä¸ºä»€ä¹ˆSä¸ä¼šç»•åœˆ
>
> è¿™é¢˜çš„å…³é”®è§£åœ¨äºs=nb
>
> 
>
> B:ç¯çš„é•¿åº¦;N:æ•´æ•°;Sæ…¢æ¸¸æ ‡è·ç¦»;Få¿«æ¸¸æ ‡è·ç¦»;Aèµ·å§‹ç‚¹åˆ°ç¯å…¥å£è·ç¦»
>
> oä¸ºèµ·ç‚¹ï¼Œaä¸ºç¯å…¥å£ç‚¹ï¼Œbä¸ºç›¸é‡ç‚¹
>
> æœ‰ä»¥ä¸‹ä¸¤ä¸ªæ’ç­‰å¼ï¼š
>
> F = 2S
>
> F = S + NB
>
> æ¨å¯¼: S = NB
>
> ç»“è®º1ï¼šæ…¢èŠ‚ç‚¹ä»oå¼€å§‹èµ°äº†Nä¸ªåœˆ
>
> æ¨ç†ï¼šå‡è®¾æ…¢èŠ‚ç‚¹ä»aå¼€å§‹èµ°ï¼Œé‚£ä¹ˆæ­¤æ—¶æ…¢èŠ‚ç‚¹å†èµ°Aå°±èƒ½è¿”å›åˆ°èµ·å§‹ç‚¹ï¼ˆå› ä¸ºs=NBï¼‰ï¼Œç„¶åå†æŠŠæ…¢èŠ‚ç‚¹çš„èµ·å§‹ç‚¹ä»aå›é€€åˆ°oï¼Œæ­¤æ—¶æ…¢èŠ‚ç‚¹æ­£å¥½åœåœ¨ç›¸é‡ç‚¹bï¼Œåˆšåˆšå›é€€çš„è·ç¦»æ­£å¥½å°±æ˜¯bè·ç¦»ç¯å…¥å£çš„è·ç¦»ä¹Ÿå°±å¾—åˆ°äº†
>
> oåˆ°açš„è·ç¦» = båˆ°açš„è·ç¦»

```javascript
var detectCycle = function(head) {
  	let slow = head && head.next
    let fast = head && head.next && head.next.next
    while (fast && slow !== fast) {
      fast = fast.next && fast.next.next
      slow = slow.next
    }
 		if (!fast) return null
		fast = head
    while (fast !== slow) {
      fast = fast.next
      slow = slow.next
    }
  	return fast
};
```



144.äºŒå‰æ ‘çš„å‰åºéå†

> **è¿›é˜¶:** é€’å½’ç®—æ³•å¾ˆç®€å•ï¼Œä½ å¯ä»¥é€šè¿‡è¿­ä»£ç®—æ³•å®Œæˆå—ï¼Ÿ
>
> 1. åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦å·²ç»è®¿é—®
> 2. åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦éå†å®Œæˆ
> 3. è·å–å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹
>
> å‰åºéå†
>
> ä¸­åºéå†
>
> ååºéå†

ä¸­åºéå†

```javascript
// var tree = {val: 1, left: null, right: { val: 2, right: null, left: { val: 3, left: null, right: null }}}
var tree = { val: 1, left: null, right: { val: 2, left: { val: 3 } } }
var centerTraversal = function(root) {
	const res = []
	const parentMap = new WeakMap()
  let node = root
  while (node) {
    if (node.left && !parentMap.get(node.left)) {
      parentMap.set(node.left, node)
      node = node.left
      continue
    }
    if ((!node.left || parentMap.get(node.left)) && (!node.right || !parentMap.get(node.right))) {
     	res.push(node.val)
    }
    if (node.right && !parentMap.get(node.right)) {
      parentMap.set(node.right, node)
      node = node.right
      continue
    }
    // è¿™é‡Œæœ€ç»ˆä¼šæŒ‡å‘ç©ºèŠ‚ç‚¹
    node = parentMap.get(node)
  }
  return res
};
preorderTraversal(tree)
```

å‰åºéå†

> ç”¨æ ˆä¼šæ›´èŠ‚çœç©ºé—´ï¼Œæ€è·¯ä¹Ÿæ›´ä½³æ¸…æ™°
>
> è«é‡Œæ–¯ç®—æ³•ã€ä¼ªè¾¹

```javascript
var preorderTraversal = function(root) {
	const res = []
	const parentMap = new WeakMap()
  let node = root
  while (node) {
     if ((!node.left || !parentMap.get(node.left)) && (!node.right || !parentMap.get(node.right))) {
     	res.push(node.val)
    }
    if (node.left && !parentMap.get(node.left)) {
      parentMap.set(node.left, node)
      node = node.left
      continue
    }
    if (node.right && !parentMap.get(node.right)) {
      parentMap.set(node.right, node)
      node = node.right
      continue
    }
    // è¿™é‡Œæœ€ç»ˆä¼šæŒ‡å‘ç©ºèŠ‚ç‚¹
    node = parentMap.get(node)
  }
  return res
};

```

*æ·±åº¦ä¼˜å…ˆæœç´¢*ï¼ˆ`DFS`ï¼‰

å‰åºã€ä¸­åºã€ååº

*å®½åº¦ä¼˜å…ˆæœç´¢*ï¼ˆ`BFS`ï¼‰

æŒ‰ç…§æ ‘çš„æ·±åº¦éå†

##### æ ˆçš„æ–¹å¼å®ç°

> å³èŠ‚ç‚¹ä¼šè¢«å‹åœ¨æ ˆåº•
>
> é€’å½’æœ¬èº«æ˜¯åˆ©ç”¨å‡½æ•°çš„è°ƒç”¨æ ˆï¼Œå®é™…ä¸Šåˆ©ç”¨æ•°ç»„ä¹Ÿèƒ½å®ç°

```javascript
var preorderTraversal = function(root) {
  const res = []
  let node
  const stacks = root ? [root] : []
  while (stacks.length) {
    node = stacks.pop()
    res.push(node.val)
    if (node.right) stacks.push(node.right)
    if (node.left) stacks.push(node.left)
  }
  return res
}
```

##### è«é‡Œæ–¯ç®—æ³•

> å°±å¥½åƒåœ¨ä¸‹è±¡æ£‹ï¼Œåœ¨åšç¬¬ä¸€æ­¥çš„æ—¶å€™å·²ç»ä¸ºåé¢çš„ç¬¬Næ­¥åšå¥½å‡†å¤‡
>
> ä¼ªé“¾
>
> å…ˆæ€è€ƒä¸»æµç¨‹
>
> ç©ºé—´å¤æ‚åº¦çš„é™ä½å’Œç®—æ³•çš„æ‰§è¡Œé“¾è·¯æœ‰å¾ˆå¤§å…³ç³»ï¼Œä»£è¡¨é“¾è·¯ä¸é‡å¤è®¿é—®æ•°æ®
>
> ä¼ªé“¾ä¼šè¢«è®¿é—®2æ¬¡ å³èŠ‚ç‚¹å¦‚æœæŒ‡å‘noneåˆ™å»ºç«‹ä¼ªé“¾ å¦‚æœæŒ‡å‘rootåˆ™åˆ é™¤ä¼ªé“¾
>
> å‰é©±èŠ‚ç‚¹å‘å·¦èµ°ä¸€æ­¥ç„¶åä¸€ç›´å¾€å³èµ°
>
> å¦‚ä½•åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦è¢«äºŒæ¬¡è®¿é—®
>
> äºŒæ¬¡è®¿é—®çš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ
>
> äºŒæ¬¡è®¿é—®çš„å‰é©±èŠ‚ç‚¹æœ€ç»ˆä¼šæŒ‡å‘è‡ªå·±æœ¬èº«ï¼Œä¸€æ—¦å‘ç°æŒ‡å‘è‡ªå·±æœ¬èº«ï¼Œå°±ç§»é™¤ä¼ªé“¾
>
> é‡åˆ°å¶å­å·¦èŠ‚ç‚¹å¦‚ä½•è¿”å›ï¼Ÿ
>
> ç”±äºå‰é©±èŠ‚ç‚¹ä¼šæå‰æ¢æµ‹å¹¶åœ¨å¶å­ç»“ç‚¹ä¸ŠåŠ ä¸Šä¼ªé“¾æ‰€ä»¥ä¸€æ—¦åˆ°å¶å­ç»“ç‚¹ä¸Šï¼Œå¿…ç„¶ä¼šæœ‰ä¼ªé“¾è¿”å›ï¼Œä¼ªé“¾çš„ä½œç”¨æ˜¯åœ¨è®¿é—®å®Œå³èŠ‚ç‚¹åï¼Œç›´æ¥è¿”å›ç¥–å…ˆçš„æ ¹èŠ‚ç‚¹
>
> æ‰€ä»¥å¾ªç¯ä½“ä¸­çš„é€»è¾‘æ˜¯ä¸åŒ
>
> æ—¢ç„¶æ˜¯å‰é©±èŠ‚ç‚¹å°±åº”è¯¥å…ˆåˆ¤æ–­å‰é©±èŠ‚ç‚¹è€Œä¸æ˜¯æœ¬èº«
>
> åœ¨æˆ‘è¿›å…¥ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™å‰é©±èŠ‚ç‚¹åŒæ—¶é‡ç½®å¥½ï¼Œè€Œä¸æ˜¯æ”¾åœ¨å¾ªç¯ä½“é‡Œé¢
>
> è¿™ä¹Ÿæ˜¯åŒæ¸¸æ ‡æ³•çš„ä¸€ç§å…¸å‹åº”ç”¨
>
> ä¹‹å‰çš„differè¿˜æœ‰4æ¸¸æ ‡æ³•
>
> å…³é”®åœ¨äºæ¸¸æ ‡çš„è¿ç”¨ å‰é©±èŠ‚ç‚¹çš„æ›´æ–°æ—¶æœºé—®é¢˜ è¿™é‡Œä¹‹å‰åšäº†é”™è¯¯çš„åˆ¤æ–­
>
> æ²¡æœ‰å‰é©±å¾€å³èµ°ï¼Œæœ‰å‰é©±å‰é©±å»ºç«‹ä¼ªé“¾ç„¶åå¾€å·¦èµ°ï¼Œå¦‚æœå‡ºç°ä¼ªé“¾å¾ªç¯ï¼Œåˆ™åˆ é™¤ä¼ªé“¾å¹¶å¾€å³èµ°
>
> çŠ¯çš„é”™è¯¯ï¼Œå¾ªç¯ä½“è¾¹ç•Œçš„è®¾è®¡ï¼Œåº”è¯¥å·²å½“å‰èŠ‚ç‚¹ä¸ºå‡†ï¼Œè€Œä¸æ˜¯è·‘åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸­
>
> è¿™ä¸ªç®—æ³•å¾ªç¯æ¬¡æ•°ä¼šå¤šä¸€äº›

```javascript
var tree = { val: 1, right: { val: 2, left: { val: 3 } } };
var preorderTraversal = function(root) {
  let node = root
  const res = []
  // å‰é©±èŠ‚ç‚¹
  let predecessor = node && node.left
  while (node) {
    if (!predecessor) {
      res.push(node.val)
      node = node.right
      predecessor = node && node.left
    } else if(!predecessor.right) {
      predecessor.right = node
      res.push(node.val)
      node = node.left
      predecessor = node.left
    } else if (predecessor.right === node) {
      delete predecessor.right
      node = node.right
      predecessor = node && node.left
    } else {
      predecessor = predecessor.right 
    }
  }
  return res
}
preorderTraversal(tree)
```

é¢˜è§£å®ç°

> æˆ‘å¤ªå¼ºè°ƒä¸€ä¸ªå¾ªç¯è§£å†³äº† æŠŠä»£ç ç»“æ„æå¤æ‚äº†

```javascript
var preorderTraversal = function(root) {
  let node = root
  let predecessor
  const res = []
  while (node) {
    if (!node.left) {
      res.push(node.val)
      node = node.right
    } else {
      predecessor = node.left
      while (predecessor.right && predecessor.right !== node) {
        predecessor = predecessor.right
      }
      if (!predecessor.right) {
        predecessor.right = node
        res.push(node.val)
        node = node.left
      } else {
        delete predecessor.right
        node = node.right
        predecessor = node && node.left
      }
    }
  }
  return res
}
```



912.æ’åºæ•°ç»„

éšæœºå¿«æ’

```javascript
var list = [5,2,3,1]
var sortArray = function(arr, start = 0, end = arr.length - 1) {
  if (!arr.length) return []
  if (arr.length === 1) return arr
  if (end <= start) return;
  let temp = Math.floor(Math.random() * (end - start) + start)
 	let low = start
  let high = end
  let val
  while (low <= high) {
    if (temp >= low) {
      if (arr[temp] < arr[low]) {
        val = arr[temp] 
        arr[temp] = arr[low]
        arr[low] = val
        temp = low
      }
      low++
    } else {
      if (arr[high] < arr[temp]) {
        val = arr[temp]
        arr[temp] = arr[high]
        arr[high] = val
        temp = high
      }
      high--
    }
  }
  sortArray(arr, start, temp - 1)
  sortArray(arr, temp + 1, end)
  return arr
}
sortArray(list)
```



145.äºŒå‰æ ‘çš„ååºéå†

**è¿›é˜¶:** é€’å½’ç®—æ³•å¾ˆç®€å•ï¼Œä½ å¯ä»¥é€šè¿‡è¿­ä»£ç®—æ³•å®Œæˆå—ï¼Ÿ

æ ˆ

> è«é‡Œæ–¯çš„ç‰¹ç‚¹åœ¨äºä¼ªé“¾ï¼Œå‰åºæ˜¯ï¼šæ ¹å·¦å³ï¼Œä¼ªé“¾è”é€šçš„æ˜¯å·¦èŠ‚ç‚¹å’Œæ ¹
>
> å‡ºæ ˆçš„æ—¶æœºå¾ˆé‡è¦
>
> å‰åºä¸€æ¬¡æ€§ä¼šå‹ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä½†æ˜¯ä¸€æ¬¡æ€§åªå‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»¥æ­¤æ¥é€ æˆå¾ªç¯
>
> ç»å¯¹ä¸æ˜¯å…ˆå…¨éƒ¨å…¥æ ˆå†å‡ºæ ˆï¼Œè€Œæ˜¯ä¸€è¾¹å…¥æ ˆä¸€
>
> å¦‚æœè¿”å›ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¦é˜»æ­¢å®ƒé‡æ–°å‘ä¸‹
>
> å…³é”®çš„é—®é¢˜åœ¨äºæ€ä¹ˆçŸ¥é“èŠ‚ç‚¹æ˜¯å¦å·²ç»è¢«è®¿é—®
>
> å‰é©±èŠ‚ç‚¹ï¼Ÿï¼Ÿ
>
> è¦ä¸è¿˜æ˜¯å…ˆç”¨é€’å½’å®ç°ä¸€é è§‚å¯Ÿå‡½æ•°å‡ºæ ˆå…¥æ ˆçš„æ–¹å¼

```javascript
var tree = {val: 1	right: { val: 2, left: { val: 3 }}}
var postorderTraversal = function(root) {
	const stacks = root ? [root] : []
  const res = []
  let node = root
  while (stacks.length) {
    node = node.left || node.right || stacks.pop()
    if (node.right && 'æœªè¢«è®¿é—®') stacks.push(node.right)
    if (node.left && 'æœªè¢«è®¿é—®') stacks.push(node.left)
    // æ˜¯å¦è¢«è®¿é—®æ˜¯æ˜¯å¦å…¥æ ˆå‡ºæ ˆçš„å‰ç½®æ¡ä»¶
    if (!node.left && !node.right)
  }
  return res
}
postorderTraversal(tree)
```

é€’å½’ - åˆ†æ²»æ³• O(N^2)

```javascript
var postorderTraversal = function(root) {
	return root ? postorderTraversal(root.left).concat(postorderTraversal(root.right), root.val) : [] 
}
```

è¿­ä»£ï¼ˆç©ºé—´å¤æ‚åº¦O(N)ï¼‰éœ€è¦åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦è®¿é—®è¿‡

> åˆ¤æ–­çš„æ ‡å¿—åœ¨äºå­èŠ‚ç‚¹æ˜¯å¦å…¨éƒ¨è®¿é—®å®Œ
>
> ä½†æ˜¯é«˜æ•ˆç‡çš„ç®—æ³•å¿…æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯åˆ©ç”¨ç‰¹æ€§å»è§£å†³é—®é¢˜
>
> å…ˆè‡ªå·±é€šè¿‡è¿­ä»£å†™ä¸€é å…ˆä¸ç®¡ç©ºé—´å¤æ‚åº¦
>
> å› ä¸ºæ²¡æœ‰parentæŒ‡é’ˆï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘é€šè¿‡æ ˆçš„æ–¹å¼å›æº¯
>
> è¦ä¸å°±æŠ›å¼ƒä¹‹å‰çš„æ–¹å¼å§
>
> æŠŠé—®é¢˜æœ€å°åŒ–
>
> ä¸¤ä¸ªæ¡ä»¶è‡ªç”±ç»„åˆï¼Ÿï¼Ÿ
>
> å…ˆå¼¹å‡ºæ¥ ç„¶åæ£€æŸ¥ æ£€æŸ¥é€šè¿‡å°±pop æ£€æŸ¥ä¸é€šè¿‡ç»§ç»­å…¥æ ˆ

```javascript
var postorderTraversal = function(root) {
	const stacks = root ? [root] : []
  const res = []
  const set = new WeakSet()
  const hasVisited = node => !node || set.has(node)
  while (stacks.length) {
 		const node = stacks.pop()
    if (hasVisited(node.left) && hasVisited(node.right)) {
      res.push(node.val)
      set.add(node)
    } else {
      stacks.push(node)
    }
    if (!hasVisited(node.right)) stacks.push(node.right)
    if (!hasVisited(node.left)) stacks.push(node.left)
  }
  return res
}
```

##### é€†åºè¾“å‡º

> é€†å‘ã€åè½¬

```javascript
var postorderTraversal = function(root) {
	const stacks = root ? [root] : []
  const res = []
  while (stacks.length) {
 		const node = stacks.pop()
    res.unshift(node.val)
    if (node.left) stacks.push(node.left)
    if (node.right) stacks.push(node.right)
  }
  return res
}
```



15.ä¸‰æ•°ä¹‹å’Œ

> å…ˆæ’åºç„¶åç”¨æ¸¸æ ‡æ³•
>
> å…ˆæŠŠè€ƒè™‘åˆ°çš„é€»è¾‘åˆ—å‡ºæ¥ ç„¶åä¸²èµ·æ¥
>
> æ€è€ƒäº†è¿™ä¹ˆä¹… å…ˆä¸ç®¡æ€§èƒ½å§
>
> æ’åºçš„å¥½å¤„ä½“ç°ä¸å‡ºæ¥
>
> æ’åºä¹‹å‰æ˜¯éœ€è¦22æ¯”è¾ƒçš„
>
> æ’åºä¹‹åè¿‡æ»¤äº†ä¸€äº›ç‰¹æ®Šæƒ…å†µ
>
> è¦å¤„ç†æé™æƒ…å†µ
>
> [-1,0,1,2,-1,-4]
>
> [[-1,2,-1],[-1,1,0],[-1,1,0]]
>
> é¡ºåºä¸åŒ ä»£è¡¨ä¸åŒçš„ç»“æœ
>
> [[-1,-1,2],[-1,0,1]]
>
> å»é™¤é‡å¤
>
> å’Œå¦‚æœåˆšå¥½ç­‰äº0 ä¸‹æ ‡è¯¥æ€ä¹ˆç§»åŠ¨ï¼Ÿ
>
> [-2,0,1,1,2]
>
> [[-2,0,2]]
>
> [[-2,0,2],[-2,1,1]]
>
> [-4,-2,-2,-2,0,1,2,2,2,3,3,4,4,6,6]
>
> [[-4,-2,6],[-4,0,4],[-4,1,3],[-2,0,2]]
>
> [[-4,-2,6],[-4,0,4],[-4,1,3],[-4,2,2],[-2,-2,4],[-2,0,2]]
>
> æ’é™¤çš„æ•°æ®ä¸ºä»€ä¹ˆä¼šä¸å½±å“ç»“æœï¼Ÿå¹¶æ²¡æœ‰ç©·ä¸¾æ‰€æœ‰æƒ…å†µ
>
> æœ€å¥½æ˜¯åœ¨éå†çš„æ—¶å€™å°±å»é‡å¤ï¼Œå¦åˆ™å°±è¦åœ¨éå†ç»“æŸåæš´åŠ›å»é‡
>
> åˆ©ç”¨ç‰¹æ€§å»è§£å†³é—®é¢˜ï¼š0 å’Œ å·²æ’åº å…ˆæš´åŠ›å»é‡å¤ éªŒè¯æœ‰æ•ˆæ€§ï¼Ÿï¼Ÿ
>
> ç›¸ç­‰çš„è¦ç´ ï¼Ÿ
>
> è¿ç»­ç›¸ç­‰çš„æ•°å­—
>
>  a b c
>
> a + bã€b + cã€a + c
>
> ä¸¤ç§æƒ…å†µï¼šå’Œè¶Šæ¥è¶Šå°j--ã€å’Œè¶Šæ¥è¶Šå¤§i++ã€å’Œä¸å˜
>
> è®¿é—®åˆ°çš„æ•° è¢«è®¿é—®è¿‡
>
> æ’åºä¸å¥½ä½¿å•Š
>
> [-4, -2, -2, -2, 0, 1, 2, 2, 2, 3, 3, 4, 4, 6, 6]
>
> [[-4,-2,6],[-4,0,4],[-4,1,3],[-2,0,2]]
>
> [-4,2,2],[-2,-2,4]
>
> ç›´æ¥åˆ¤æ–­å’Œçš„å¤§å°æ¥ç§»åŠ¨æ¸¸æ ‡è²Œä¼¼ä¼šæ¼æ‰ä¸€äº›æƒ…å†µï¼šå°±æ¯”å¦‚ä¸‹é¢çš„-4 3 = -1
>
> -4 -> -2ä¼šæ¼æ‰-4 2
>
> ä¸¤æ•°ç›¸åŠ å†æŸ¥æ‰¾ç¬¬ä¸‰ä¸ªæ•°
>
> å¦‚æœæ‰€æœ‰çš„æƒ…å†µéƒ½ç©·ä¸¾ä¸€éè‚¯å®šå¯ä»¥è§£å†³é—®é¢˜
>
> åå‘æ€ç»´
>
> 8ç‚¹æƒ³ä¸å‡ºæ¥å°±çœ‹ç­”æ¡ˆï¼Œæ€è·¯æ˜¯è¿™æ ·çš„
>
> å…ˆé€‰ä¸­-4
>
> ç„¶åä»[-2, 6]ä¹‹é—´å¯»æ‰¾å’Œç­‰äº4çš„ä¸¤ä¸ªæ•°
>
> åˆ›å»ºé¦–æœ«2ä¸ªæ¸¸æ ‡
>
> å¦‚æœä¸¤æ•°ä¹‹å’Œå¤§äº4 åˆ™ç§»åŠ¨å³èŠ‚ç‚¹ å¦åˆ™ç§»åŠ¨å·¦èŠ‚ç‚¹
>
> å¦‚ä½•å»é‡ï¼Ÿ
>
> è¿˜ä¼šä¸ä¼šå‡ºç°ä¹‹å‰çš„è¿ç»­é‡å¤æƒ…å†µï¼Ÿï¼Ÿ
>
> ä¸‰ä¸ªæ•°çš„å¤§å°é¡ºåºæ˜¯æ€æ ·çš„ï¼Ÿï¼Ÿ
>
> éå†çš„æ—¶å€™éœ€è¦æ’é™¤è‡ªèº«
>
> é‡å¤çš„æ•°å­—æ˜¯å¦éœ€è¦é‡å¤éå†ï¼Ÿï¼Ÿä¸éœ€è¦
>
> éå†åˆ°é˜Ÿå‹çš„æƒ…å†µä¹Ÿæ˜¯é‡å¤ï¼Ÿ-4 [2,2]   2 [-4,2]
>
> åªç®¡æ·»åŠ ï¼Œæ·»åŠ ä¹‹åä¸æ˜¯ç›´æ¥æ˜¯2ç»´æ•°ç»„ï¼Œå› ä¸ºé•¿åº¦æ˜¯å›ºå®šçš„ï¼Œæˆ‘ä¿å­˜3ä¸ªsetï¼Œåˆ†åˆ«å­˜0,1,2çš„ä¸‹æ ‡ã€ç©ºé—´å¤æ‚åº¦é«˜ã€‘
>
> è¦åˆ©ç”¨0è¿™ä¸ªç‰¹æ€§
>
> å¤§äº0çš„æ˜¯å¦å¯ä»¥ä¸è€ƒè™‘ï¼Œå› ä¸ºå¾ˆæœ‰å¯èƒ½å‰é¢éƒ½è¢«è€ƒè™‘è¿›å»äº†
>
> -2 [1,3] è¦†ç›–äº† 1[-2,3]
>
> 1 [-2,3]
>
> å¦‚æœåªè€ƒè™‘å³ä¾§æ•°ç»„ï¼Œå¦‚æœå½“å‰çš„æ•°å¤§äº0ï¼Œåˆ™ç›´æ¥åœæ­¢ï¼Œå¦‚æœæˆ‘çš„å’Œä¸æ˜¯0ï¼Œè€Œæ˜¯2å‘¢ï¼Ÿç›´æ¥åˆ¤æ–­æ˜¯å¦å¤§äº2
>
> ä»€ä¹ˆæƒ…å†µä¸‹å’Œä¸º0ï¼Œå¿…é¡»è¦æœ‰ä¸€ä¸ªå¤§äºç­‰0çš„æ•°ï¼Œå’Œä¸€ä¸ªå°äºç­‰äº0çš„æ•°
>
> ä¸¤ä¸ªå¤§äº2çš„æ•°ç›¸åŠ ä¸å¯èƒ½ç­‰äº-2
>
> è¿™æ˜¯æ’åºæ•°ç»„çš„ç‰¹æ€§

```javascript

var numArr = [-4, -2, -2, -2, 0, 1, 2, 2, 2, 3, 3, 4, 4, 6, 6]
var threeSum = function(nums) {
  if (nums.length < 3) return []
	const sortList = nums.sort((acc, cur) => acc - cur)
  const res = []
  let low, high, val1, val2, val3
  for (let i = 0; i < sortList.length;i++) {
    if (sortList[i] > 0) break
    if (sortList[i] === sortList[i - 1]) continue
    low = i + 1
    high = sortList.length - 1
    while (low < high) {
      if (sortList[i] + sortList[low] + sortList[high] === 0 && !(val1 === sortList[i] && val2 === sortList[low] && val3 === sortList[high])) {
        val1 = sortList[i]
        val2 = sortList[low]
        val3 = sortList[high]
        res.push([val1, val2, val3])
      }
      if (val >= 0) {
        high--
      } else {
        low++
      }
    }
  }
  return res
};
threeSum(numArr)
```



179.æœ€å¤§æ•°

> æœ€ç®€å•çš„å°±æ˜¯ç©·ä¸¾
>
> å¦‚æœæ˜¯å­—ç¬¦ä¸²çš„è¯ä¼°è®¡å°±æ²¡æ³•æ¯”è¾ƒäº† ä¸€å®šè¦æ‰¾è§„å¾‹
>
> æœ€å¤§ä½æ¯”è¾ƒ
>
> 3
>
> 34
>
> 32
>
> 30
>
> 123
>
> 3433230123
>
> ä½æ•°æ˜¯å›ºå®šçš„
>
> 30000
>
> 12300
>
> å¢æ•°æ³•
>
> 30
>
> 30
>
> 34
>
> 50
>
> 90
>
> ä½è¿ç®—ï¼Ÿ
>
> æ¯”å¦‚ï¼šæˆ‘æ¯”è¾ƒ3 30å¦‚ä½•æ¯”è¾ƒï¼Ÿ
>
> 303
>
> 330
>
> æˆ‘è§‰å¾—ä¹Ÿæ˜¯ä¸€ç§æ’åºåªæ˜¯æ’åºçš„è§„åˆ™ä¸åŒ
>
> 0å¯ä»¥ä¸ç®—
>
> åˆ†è§£é—®é¢˜ï¼šæ‹†æˆå•ä¸ªæ•°å­—ï¼Œæ¡ä»¶æ˜¯4å¿…é¡»åé¢è·Ÿåœ¨3åé¢
>
> ä¸èƒ½æ‹†ï¼Œå› ä¸ºä¼šæœ‰å¤šä½çš„æƒ…å†µ
>
> 

```javascript
var largestNumber = function(nums) {
	return nums.every(num => !num) ? '0' : nums.sort((acc, cur) => `${cur}${acc}` - `${acc}${cur}`).join('')
};
```

ä»…å¯¹é¦–è¡Œè¿›è¡Œåˆ¤æ–­ï¼Œå°‘ä¸€æ¬¡å¾ªç¯ï¼Œä¹Ÿå°±å°‘ç”¨ä¸€ä¸ªæ•°ç»„

```javascript
var largestNumber = function(nums) {
	const list = nums.sort((acc, cur) => `${cur}${acc}` - `${acc}${cur}`)
    return list[0] === 0 ? '0' : list.join('')
};
```



20.æœ‰æ•ˆçš„æ‹¬å·

æ ˆã€è¦è€ƒè™‘æé™æƒ…å†µï¼Œè¿™æ˜¯ç¨‹åºå‘˜è¦å…»æˆçš„èŒä¸šä¹ æƒ¯

```javascript
var isValid = function(s) {
	const map = {
    '(': ')',
    '[': ']',
    '{': '}'
  }
  const stacks = []
	for (let i = 0;i < s.length;i++) {
		if (map[s[i]]) {
      stacks.push(map[s[i]])
    } else if (stacks.pop() !== s[i]) {
      return false
    }
  }
  return !stacks.length
};
```



203.ç§»é™¤é“¾è¡¨å…ƒç´ 

> ä¸æ­¢ä¸€æ¬¡æ²¡æœ‰è€ƒè™‘æé™æƒ…å†µï¼Œè¯´æ˜ä¸ä»”ç»†ï¼Œä¸ä¸¥è°¨
>
> ç®—æ³•é¢˜é‡Œçš„åµŒå¥—if elseå¾ˆéš¾æ‹†

```javascript
var removeElements = function(head, val) {
	let current = head
  let res = null
  let prev
  while (current) {
    if (current.val === val) {
			if (prev) {
        prev.next = current.next
      }
    } else {
      if (!prev) {
        res = current
      }
      prev = current
    }
    current = current.next
  }
  return res
};
```



206.åè½¬é“¾è¡¨

è¿­ä»£

```javascript
var listNode = {
  val: 1,
  next: {
    val: 2,
    next: {
      val: 3,
      next: {
        val: 4
      }
    }
  }
}
var reverseList = function(head) {
	let current = head
  let next
  let prev
  while (current) {
    next = current.next
		if (prev) {
      current.next = prev
    } else {
      delete current.next
    }
    prev = current
    current = next
  }
  return prev || head
};

reverseList(listNode)
```

é€’å½’

> é€’å½’çš„å†…å­˜æ¶ˆè€—ä¼šå¤§äºè¿­ä»£â€˜

```javascript
var reverseList = function(head, prev = null) {
  if (!head) return prev
  const next = head.next
  if (!prev) {
    delete head.next
  } else {
    head.next = prev
  }
	return reverseList(next, head)
};

```

226.ç¿»è½¬äºŒå‰æ ‘

> é€’å½’ åŒæ ·æ˜¯é€’å½’ ä½†é¢˜è§£çš„é€’å½’è¦æ›´å¥½ä¸€äº›

```javascript
var invertTree = function(root) {
  if (root) {
    const val = root.left
    root.left = root.right
    root.right = val
    invertTree(root.left)
    invertTree(root.right)
  }
  return root
};
```

```javascript
var invertTree = function(root) {
  if (root) {
    const right = invertTree(root.right)
    const left = invertTree(root.left)
    root.right = left
    root.left = right
  }
  return root
};
```



> è¿­ä»£ - æ ˆ

```javascript
var invertTree = function(root) {
  const stacks = root ? [root] : []
  while (stacks.length) {
    const node = stacks.pop()
    const val = node.left
    node.left = node.right
    node.right = val
    if (node.left) stacks.push(node.left)
    if (node.right) stacks.push(node.right)
  }
  return root
};
```



235.äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ

> æ ˆ å…ˆå‡ºåå…¥
>
> æ·±åº¦ä¼˜å…ˆéå† è·å¾—åŒå±‚çº§èŠ‚ç‚¹ 
>
> ååºéå†ï¼Ÿ
>
> 1. ç›´æ¥éå†æ¯ä¸ªèŠ‚ç‚¹çœ‹ä»–çš„å­èŠ‚ç‚¹é‡Œé¢æ˜¯ä¸æ˜¯ä¼šåŒæ—¶å­˜åœ¨pï¼Œqï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæ ¹èŠ‚ç‚¹å¿…ç„¶ï¼Œä¸¤æ­¥èµ°ï¼Œå…ˆæœç´¢åæ¯”è¾ƒï¼Œé¦–å…ˆå®šä¹‰ä¸€ä¸ªéå†çš„å¾ªç¯ï¼Œç„¶åçœ‹ä¸‹æ€ä¹ˆè®°å½•è·¯å¾„
>
> å¦‚æœä»–èƒ½å¤Ÿä¿è¯ä¸€å®šèƒ½æ‰¾åˆ°ï¼Œå…¶å®æˆ‘å°±æ˜¯è¦æ‰¾åˆ°åˆ†å‰å£
>
> æ­£å‘æ‰¾å°±æ˜¯æ‰¾ä¸åŒ
>
> åå‘æ‰¾å°±æ˜¯æ‰¾ç›¸åŒ
>
> æ·±åº¦åå‘éå†
>
> äºŒå‰æœç´¢æ ‘: å·¦å­æ ‘æ¯”å½“å‰èŠ‚ç‚¹å°ï¼Œå³å­æ ‘æ¯”å½“å‰èŠ‚ç‚¹å¤§
>
> è¿™æ˜¯ä¸€é“åˆ†æé¢˜ï¼Œéå†æ—¶çš„ä¸‰ç§æƒ…å†µï¼Œæ¯æ¬¡åªéœ€è¦å¤„ç†ä¸€ç§èŠ‚ç‚¹
>
> é€’å½’ä¼šäº§ç”Ÿå›æº¯çš„æˆæœ¬
>
> é€’å½’æƒå€¼ç›¸åŠ 

é€’å½’

```javascript
var lowestCommonAncestor = function(root, p, q) {
		if (root.val > Math.max(p.val, q.val)) {
      return lowestCommonAncestor(root.left, p, q)
    }
    if (root.val < Math.min(p.val, q.val)) {
      return lowestCommonAncestor(root.right, p, q)
    }
  	return root
};
```

è¿­ä»£

```javascript
var lowestCommonAncestor = function(root, p, q) {
  	let node = root
		while (node) {
      if (node.val > Math.max(p.val, q.val)) {
        node = node.left
        continue
      }
      if (node.val < Math.min(p.val, q.val)) {
        node = node.right
        continue
      }
      return node
    }
   return node
};
```

236.äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ

> å…ˆæŠŠå®ƒå˜æˆäºŒå‰æœç´¢æ ‘ ç„¶åæŸ¥æ‰¾ï¼Ÿ
>
> è¿˜æ˜¯ç›´æ¥æŸ¥æ‰¾
>
> è¿™ä¸ªç®—æ³•å†…å­˜æ¶ˆè€—è¿‡å¤§
>
> é€’å½’æŸ¥æ‰¾è·¯å¾„ç„¶åæ¯”å¯¹

```javascript
var lowestCommonAncestor = function(root, p, q) {
  	let pl, ql
    const loop = (node, parentIds = []) => {
      if (!node) return
      const currentIds = parentIds.concat(node)
      if (node === p) {
       	pl = currentIds
      } else if (node === q) {
        ql = currentIds
      } else if (pl && ql) {
        return
      }
      loop(node.left, currentIds)
      loop(node.right, currentIds)
    }
    loop(root)
  	for (let i = 0;i < Math.max(pl.length, ql.length);i++) {
      if (pl[i] !== ql[i]) return pl[i-1]
    }
  	return null
};
```

> æ˜¾ç¤ºä¸€é¢—æ ‘çš„è·¯å¾„

ä¼˜åŒ–

> å€¼ä¸é‡å¤è¿™ä¸€ç‚¹æ˜¯å¦å¯ä»¥åˆ©ç”¨
>
> éå†å›æº¯
>
> LCA
>
> æ–œäºŒå‰æ ‘
>
> æ ˆå›¾

é€’å½’

> æˆ‘å¯¹é€’å½’çš„ç†è§£è¿˜æ˜¯ä¸å¤Ÿæ·±å…¥
>
> é€šè¿‡è§‚å¯Ÿç‰¹è´¨
>
> æ·±åº¦é€’å½’æ˜¯ä»æ ¹èŠ‚ç‚¹å›æº¯çš„ï¼Œæ­¤æ—¶è®°å½•èŠ‚ç‚¹çš„â€œç§¯åˆ†â€å¦‚æœè¶…è¿‡2å°±è¿”å›
>
> è™½ç„¶æ˜¯é€’å½’ï¼Œä½†æ˜¯è¿”å›å€¼æ˜¯ä¸åŒçš„

```javascript
var lowestCommonAncestor = function(root, p, q) {
  	let res = null
  	const loop = node => {
       if (!node) return false
       const left = loop(node.left) ? 1 : 0
       const right = loop(node.right) ? 1 : 0
       const mid = (node === p || node === q) ? 1 : 0
       if (left + right + mid >= 2) res = node
	   	 return left + right + mid > 0
    }
    loop(root)
    return res
};
```

çˆ¶æŒ‡é’ˆè¿­ä»£

```javascript
var lowestCommonAncestor = function(root, p, q) {
    const map = new WeakMap()
		let parents
    const stacks = root ? [root] : []
    const setParents = node => {
			parents = new WeakSet()
      while (node) {
        parents.add(node)
        node = map.get(node)
      }
    }
    const getParent = node => {
      while (node) {
        if (parents.has(node)) return node
        node = map.get(node)
      }
      return null
    }
    while (stacks.length) {
      const node = stacks.pop()
      if (node === p || node === q) {
				if (!parents) {
          setParents(node)
        } else {
          return getParent(node)
        }
      }
      if (node.left) {
        map.set(node.left, node)
        stacks.push(node.left)
      }
      if (node.right) {
				map.set(node.right, node)
        stacks.push(node.right)
      }
    }
  	return null
};
```

æ— çˆ¶æŒ‡é’ˆè¿­ä»£

> LD BD BP
>
> ç”¨ä¸€ä¸ªæ ˆåˆšå¥½å¼¹å‡ºå…¬å…±çˆ¶èŠ‚ç‚¹
>
> æˆ‘è„‘å­é‡Œé¢è®°ä½äº†å®ƒçš„å¾ªç¯ä½“ ä¹Ÿåªèƒ½è®°ä½ è¦æ˜¯èƒ½åˆ›æ–°å°±å¥½äº†
>
> è¿™æ˜¯å‰åºéå†ï¼Ÿï¼Ÿ
>
> æ²¡æœ‰æŒ‡é’ˆå°±å¿…ç„¶å­˜åœ¨ä¸€æ¡å¯å¾ªç¯çš„è·¯å¾„ï¼ˆè½¨è¿¹ï¼‰
>
> å¾ªç¯å’Œæ¡ä»¶åˆ¤æ–­
>
> å…ˆå®šä¹‰ åå®ç°
>
> å·¦æ ¹å³
>
> å¦‚æœçœ‹äº†é¢˜è§£è¿˜ä¸ä¼šï¼Œé—®é¢˜ä¸åœ¨ç®—æ³•ï¼Œè€Œåœ¨æŠ€å·§
>
> ä¼šä¿ç•™å·²è®¿é—®è¿‡çš„çˆ¶èŠ‚ç‚¹
>
> è®°å½•èŠ‚ç‚¹çš„è®¿é—®çŠ¶æ€ï¼ˆå…³é”®ï¼‰
>
> BP:BOTH_PENDING
>
> LD:LEFT_DONE
>
> BD:BOTH_DEON
>
> è¿™ä¸ªç®—æ³•çš„è¿‡ç¨‹ç°åœ¨è„‘å­é‡Œé¢è¿‡ä¸€é
>
> å…ˆå†™å¾ªç¯ä½“
>
> æŠŠå¾ªç¯ä½“å’Œé€»è¾‘åˆ†å¼€
>
> å¥½é¸¡è´¼å•Š
>
> ä»–æ²¡ç”¨æœ‰mapã€‚è€Œæ˜¯åœ¨stacksé‡Œé¢å­˜äº†ä¸€å¯¹å€¼
>
> å…ˆè®¾è®¡å¾ªç¯ä½“ ç„¶åå†åšæ¡ä»¶åˆ¤æ–­
>
> æ·±åº¦ä¼˜å…ˆç®—æ³•ï¼Œå…ˆéå†å·¦å­æ ‘ï¼Œæ ¹å¯èƒ½ä¼šè¢«è®¿é—®å¤šæ¬¡

```javascript
var lowestCommonAncestor = function(root, p, q) {
    let LCA, current
    // å·¦èŠ‚ç‚¹å·²è®¿é—®
    const LEFT_DONE = 1
    // å·¦å³éƒ½æ²¡è®¿é—®
    const BOTH_PENDING = 2
    // å·¦å³èŠ‚ç‚¹éƒ½å·²è®¿é—®
    const BOTH_DONE = 3
    const weakMap = new WeakMap()
    weakMap.set(root, BOTH_PENDING)
  	const stacks = root ? [root] : []
    const top = () => stacks[stacks.length - 1]
		while (stacks.length) {
      current = top()
      if (current === p || current === q) {
        if (!LCA) {
         	 LCA = current
        } else if (LCA !== current) {
          return LCA
        }
      }
      if (weakMap.get(current) === BOTH_PENDING) {
        weakMap.set(current, LEFT_DONE)
        if (current.left) {
					stacks.push(current.left)
          weakMap.set(current.left, BOTH_PENDING)
          continue
        }
      }
      if (weakMap.get(current) === LEFT_DONE) {
        weakMap.set(current, BOTH_DONE)
        if (current.right) {
          stacks.push(current.right)
          weakMap.set(current.right, BOTH_PENDING)
          continue
        }
      }
      if (weakMap.get(current) === BOTH_DONE) {
        if (stacks.pop() === LCA) {
          LCA = top()
        }
      }
    }
  	return null
};
// const map = {};åé¢æœ‰æ²¡æœ‰åˆ†å·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
var testTree1 = (() => {
  const map = {}
  const createTree = val => ({ val });
  [3,5,1,6,2,0,8,null,null,7,4].forEach(val => {
    if (val != null) {
     	 const node = createTree(val)
       map[val] = node
    }
  })
  const setVal = (val, left, right) => {
    map[val].left = map[left]
    map[val].right = map[right]
  }
  setVal(3, 5, 1)
  setVal(5, 6, 2)
  setVal(2, 7, 4)
  setVal(1, 0, 8)
  return [map[3], map[5], map[1]]
})

var testTree2 = (() => {
  const map = {}
  const createTree = val => ({ val });
  [3,5,1,6,2,0,8,null,null,7,4].forEach(val => {
    if (val != null) {
     	 const node = createTree(val)
       map[val] = node
    }
  })
  const setVal = (val, left, right) => {
    map[val].left = map[left]
    map[val].right = map[right]
  }
  setVal(3, 5, 1)
  setVal(5, 6, 2)
  setVal(2, 7, 4)
  setVal(1, 0, 8)
  return [map[3], map[7], map[8]]
})

var node = lowestCommonAncestor(...testTree2())
console.log(node)

```



26.åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹

ä¸èƒ½ç”¨splice

```javascript
var removeDuplicates = function(nums) {
	nums.reduceRight((acc, cur, idx) => {
    if (cur === acc) nums.splice(idx, 1)
    return cur
  }, null)
  return nums.length
};

```

é¢˜ç›®åªè¦æ±‚è¿”å›é•¿åº¦ æ‰€ä»¥å¯ä»¥ç®€åŒ–

æ³¨æ„å®¡é¢˜ï¼Œä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ï¼ŒåŒæŒ‡é’ˆæ³•

```javascript
var removeDuplicates = function(nums) {
  if (!nums.length) return 0
	let i = 0
  for (let j = 1;j < nums.length;j++) {
    if (nums[i] !== nums[j]) {
      i++
      nums[i] = nums[j]
    }
  }
  return i + 1
};
```

37.è§£æ•°ç‹¬

ç®—æ³•åˆ†æï¼Œ.ä»£è¡¨åŠ¨æ€æ•°å­—ï¼Œæ¯ä¸ªæ•°ç‹¬éƒ½æ‹¥æœ‰ä¸€ä¸ªå¯é€‰æ± å­ï¼Œæ¯ä¸€åˆ—ä¹Ÿéƒ½æ‹¥æœ‰ä¸€ä¸ªå¯é€‰æ± ï¼Œåæ¨çš„è¯å°±æ˜¯è¦ä¸€ä¸ªå‘è¦æ»¡è¶³å¤šä¸ªæ¡ä»¶3ä¸ªæ¡ä»¶å…¨æ»¡è¶³

1. ä¸åœçš„å¾ªç¯æ‰«æ¯ä¸€ä¸ªæ•°æ®ï¼Œç›´åˆ°æ‰€æœ‰çš„æ•°éƒ½è¢«å¡«æ»¡

æš´åŠ›ç ´è§£æ³•

å¤šé‡æ¡ä»¶å–äº¤é›†

*çº¦æŸç¼–ç¨‹*

*å›æº¯*

è¿™ä¸ªç®—æ³•æ€è·¯æ˜¯å®Œå…¨é”™çš„ï¼Œå¦‚æœæ²¡æœ‰å”¯ä¸€æ¡ä»¶å°±ä¼šè¿›å…¥æ­»å¾ªç¯

```javascript
const testData = [["5","3",".",".","7",".",".",".","."],["6",".",".","1","9","5",".",".","."],[".","9","8",".",".",".",".","6","."],["8",".",".",".","6",".",".",".","3"],["4",".",".","8",".","3",".",".","1"],["7",".",".",".","2",".",".",".","6"],[".","6",".",".",".",".","2","8","."],[".",".",".","4","1","9",".",".","5"],[".",".",".",".","8",".",".","7","9"]]
var solveSudoku = function(board) {
  // åˆ¤æ–­æ˜¯å¦ç»“æŸ
	const isOver = arr => !arr.some(list => list.some(str => str === '.'))
  const last = arr => {
    const res = []
    const set = new Set(arr)
		let i = 1
    while (i <= 9) {
      const num = `${i}`
      if (!set.has(num)) res.push(num)
      i++
    }
    return res
  }
  const getValue = (...list) => {
    const setList = list.map(arr => new Set(arr))
    const listAll = list.reduce((acc, cur) => acc.concat(cur))
    return [...new Set(listAll)].filter(str => setList.every(set => set.has(str)))
  }
  const getR = (i, j) => {
    const res = []
    let x = Math.floor(i / 3) * 3
    let y = Math.floor(j / 3) * 3
    let arr = []
    const k = x + 3
    while (x < k) {
			arr = arr.concat(board[x].slice(y, y + 3))
      x++
    }
    return arr
  }
  while (!isOver(board)) {
    for (let i = 0;i < board.length;i++) {
      for (let j = 0;j < board[i].length;j++) {
        const x = board[i]
        const y = board.map(list => list[j])
        const r = getR(i, j)
        if (board[i][j] === '.') {
        	const value = getValue(last(x), last(y), last(r))
          if (value.length === 1) {
            board[i][j] = value[0]
          }
        }
      }
    }
  }
  return board
};
solveSudoku(testData)
```

çº¦æŸã€å›æº¯ã€é€’å½’

backtrack

è‚¯å®šè¦æŠ½æ–¹æ³•

ä»–åº”è¯¥æ˜¯æŒ‡å‡ºç°æ¬¡æ•°

ç”¨äºŒç»´æ•°ç»„ä»£æ›¿map

removeä¸­æœ‰å¾ªç¯+é€’å½’

é€’å½’

åˆ é™¤

é€’å½’

é€’å½’è°ƒç”¨æ ˆ

å‡ºå£åœ¨è¿™é‡ŒcouldPlace

åˆ¤æ–­sudokuSolved

remove

placeNextNumbers

å›æº¯è¿‡ç¨‹ä¸æ˜¯å¾ˆæ¸…æ¥š

å…¨éƒ¨removeå²‚ä¸æ˜¯è¿›å…¥æ­»å¾ªç¯äº†ï¼Ÿ

é€’å½’ä¸€å®šè¦æ‰¾å‡ºå£



åˆ†æè°ƒç”¨æ ˆï¼šé€’å½’è°ƒç”¨æ ˆ

```javascript
backtrack
placeNextNumbers
backtrack 
placeNextNumbers + removeNumber + couldPlace
couldPlace none

placeNextNumbers å‡ºå»ä»¥å remove 
removeä»¥åè¿›å…¥for next
ä¸€ç¯æ¥ä¸€ç¯ å¤ªç²¾å¦™äº†

```

çº¦æŸ å›æº¯

ä¸è¦è€çœ‹é¢˜è§£ï¼Œè‡ªä¸»æ€è€ƒ

è¦è€ƒè™‘å­—ç¬¦ä¸²å’Œæ•°å­—çš„è½¬æ¢

```javascript
var solveSudoku = function(board) {
  // æ˜¯å¦å·²ç»“æŸ
  let isOver
  // box size
  const n = 3
  // row size
  const N = n * n
  // ç”ŸæˆäºŒç»´æ•°ç»„
  const getArray = () => {
    const arr = []
    while (arr.length < N) {
      // å› ä¸ºæ•°å­—æ˜¯1-9 å…¶å®ä¹Ÿå¯ä»¥ç”¨å…¶å®ƒæ•°æ®ç»“æ„æ¥ä»£æ›¿ æ¯”å¦‚map
      arr.push(new Array(11).fill(0))
    }
    return arr
  }	
	// 3ä¸ªçº¦æŸæ¡ä»¶ æ¨ªå‘ çºµå‘ 9å®«æ ¼
  // ä»–æ˜¯ç›´æ¥åˆ›å»ºç©ºæ•°ç»„
  const rows = getArray()
  const cols = getArray()
  // æŒ‰é¡ºåºå­˜æ”¾9ä¸ªboxs
  const boxs = getArray()
  // æ ¹æ®rowã€colè·å–boxçš„ä¸‹æ ‡
  const getBoxIdx = (row, col) => n * Math.floor(row / n) + Math.floor(col / n)
  
  // çº¦æŸ
  const couldPlace = (d, row, col) => {
  	// è®¡ç®—boxsä½ç½®
    const idx = getBoxIdx(row, col)
    return (rows[row][d] + cols[col][d] + boxs[idx][d]) === 0
  }
  
  // æ”¾æ•°å­—
  const placeNumer = (d, row, col) => {
    const idx = getBoxIdx(row, col)
    rows[row][d]++
    cols[col][d]++
   	boxs[idx][d]++
    board[row][col] = `${d}`
  }
  
  // ç§»é™¤æ•°å­—
  const removeNumber = (d, row, col) => {
    const idx = getBoxIdx(row, col)
    rows[row][d]--
    cols[col][d]--
    boxs[idx][d]--
    board[row][col] = '.'
  }
  
 // è¿™é‡Œéœ€è¦ä¸€ä¸ªè¿”å›å€¼ ç”¨äºåˆ¤æ–­æ˜¯å¦æˆåŠŸ
 function placeNext(row, col) {
   // å¾ªç¯ç»“æŸ
   if (row === N - 1 && col === N - 1) {
     isOver = true
     return
   }
   // éå†å®Œä¸€è¡Œä¹‹åæ¢è¡Œ
   if (col === N - 1) {
     trace(row + 1, 0)
   } else {
     trace(row, col + 1)
   }
 }
  
  // å›æº¯
  // å›æº¯ç®—æ³•çš„å…³é”® è¿˜æ²¡æœ‰æ‰¾åˆ° æ ¸å¿ƒè¿˜æ²¡æœ‰é¢†æ‚Ÿ	
  // ç°åœ¨åªæœ‰ä¸€ä¸ªé—®é¢˜ ä»€ä¹ˆæ—¶å€™remove???
  function trace(row, col) {
    if (board[row][col] === '.')  {
     	// è¿™ä¸ªå¾ªç¯ä½“ä¹Ÿæ˜¯å›æº¯çš„å…³é”®
      for (let i = 1;i <= N;i++) {
        if (couldPlace(i, row, col)) {
          placeNumer(i, row, col)
          placeNext(row, col)
          if (!isOver) removeNumber(i, row, col)
        }
      } 
    } else {
      placeNext(row, col)
    }
  }
  
  
  for (let i = 0; i < board.length; i++) {
    for (let j = 0; j < board[i].length;j++) {
      if (board[i][j] !== '.')  {
        placeNumer(board[i][j], i, j)
      }
    }
  }
  trace(0, 0)
  return board
}
```

**å›æº¯çš„å…³é”®å°±æ˜¯åˆ©ç”¨é€’å½’ä¸€æŠŠèµ°åˆ°åº•ï¼Œå¦‚æœæ²¡æœ‰èµ°åˆ°åº•å°±å›é€€åˆ°ä¸Šä¸€ä¸ªå€¼ï¼Œç»§ç»­å°è¯•ä¸‹ä¸€ä¸ªç»“æœï¼Œç›´åˆ°å…¨éƒ¨å¤±è´¥ç»§ç»­å›æº¯ï¼Œä»€ä¹ˆæ—¶å€™removeæ˜¯å…³é”®ï¼Œç®—æ³•å¾ˆç²¾é«“ï¼Œæ¯”èµ·æš´åŠ›æ±‚è§£ï¼ŒåŒæ ·æ˜¯å°è¯•ï¼Œä½†ä¸ç”¨åˆ—ä¸¾æ‰€æœ‰æƒ…å†µï¼Œè€Œæ˜¯é€šè¿‡ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ä¸æ–­è°ƒæ•´ï¼**



ä½†ä»è¿™ä¸ªç®—æ³•æ¥çœ‹ï¼Œæ‹†åˆ†é€»è¾‘çš„æ€æƒ³éå¸¸é‡è¦ï¼Œæˆ‘æ˜¯å­¦ä¹ äº†é¢˜è§£çš„æ‹†åˆ†æ€æƒ³ï¼Œç„¶åå®ç°äº†è¿™æ ·çš„ç®—æ³•ï¼Œå¾ªç¯ä½“å’Œç»“æ„æ‹†åˆ†æ˜¯ä¸¤å¤§æ ¸å¿ƒ



leetcodeé‡Œé¢é™¤äº†ç®—æ³•çš„è§£é¢˜åˆ†æï¼Œè¿˜ä¼šæ•™æˆ‘ä»¬æ—¶é—´å¤æ‚åº¦åˆ†æï¼Œè¿™æ˜¯ä¸€ç›´è¢«æˆ‘ä»¬å¿½ç•¥çš„



æˆ‘çš„é—®é¢˜ï¼šå®¡é¢˜è¿˜æ˜¯ä¸å¤Ÿç»†å¿ƒ



374.çŒœæ•°å­—å¤§å°

æœ‰æŠŠæ¡å†æäº¤

äºŒåˆ†æ³•å¥‡æ•°æ°¸è¿œå–ä¸åˆ°çš„é—®é¢˜

ä¸€ä¸ªç®€å•é¢˜ç›®éƒ½è¦è°ƒåŠå¤©

```javascript
// guess
// äºŒåˆ†æ³•
var guessNumber = function(n) {
    let end = n
    let start = 1
    while (end >= start) {
     	let mid = Math.floor((end - start) / 2 + start)
      let res = guess(mid)
      if (res === 0) {
        return mid
      } else if (res === -1) {
        end = mid - 1
      } else {
        start = mid + 1
      } 
    }
  return -1
};
```



46.å…¨æ’åˆ—

è¿”å›å¤šå°‘ç§æ’åºå¯èƒ½ï¼Œæ„Ÿè§‰åƒåŠ¨æ€è§„åˆ’é—®é¢˜

æ•°ç»„é•¿åº¦ä¸º2 åˆ™ä¸º2

æ•°ç»„é•¿åº¦ä¸º3 123 213   231 321   312 132    123  

æ•°ç»„é•¿åº¦ä¸º4 1234 2134 2314 2341 3241 3421 3412 

çŸ©é˜µ

ç¬¬ä¸€ä¸ªæ•°å¾€åç§»åŠ¨ï¼Œç›´åˆ°è¢«è¿˜åŸï¼Œè·Ÿæ•°ç»„é•¿åº¦çš„å…³ç³»ï¼Ÿï¼Ÿ

æ¯ä¸ªæ•°å­—çš„ç§»åŠ¨æ¬¡æ•° = æ•°ç»„é•¿åº¦

é•¿åº¦æ˜¯n * (n - 1)

å‡è®¾é•¿åº¦æ˜¯3

3 * 3 - 1 = 8

å‡è®¾ä¸º2 = 2 * 2 -1 =3

å®ƒè¦è¿”å›çš„ä¸æ˜¯æ¬¡æ•°ï¼Œè€Œæ˜¯ç»“æœå¥½å§

å…¶å®å°±æ˜¯ä¸€ä¸ªä¸¤é‡çš„å¾ªç¯å°±æå®š

æ€è·¯åº”è¯¥å®Œå…¨é”™äº†

[[5,4,6,2],[4,5,6,2],[4,6,5,2],[4,6,2,5],[6,4,2,5],[6,2,4,5],[6,2,5,4],[2,6,5,4],[2,5,6,4],[2,5,4,6],[5,2,4,6],[5,4,2,6]]

12

[[5,4,6,2],[5,4,2,6],[5,6,4,2],[5,6,2,4],[5,2,4,6],[5,2,6,4],[4,5,6,2],[4,5,2,6],[4,6,5,2],[4,6,2,5],[4,2,5,6],[4,2,6,5],[6,5,4,2],[6,5,2,4],[6,4,5,2],[6,4,2,5],[6,2,5,4],[6,2,4,5],[2,5,4,6],[2,5,6,4],[2,4,5,6],[2,4,6,5],[2,6,5,4],[2,6,4,5]]

24

æ²¡æœ‰5624

çœ‹ä»–çš„ç»“æœï¼Œå¾ˆåƒåŠ¨æ€è§„åˆ’

å…¶å®å°±æ˜¯ä¸ªæ’åˆ—ç»„åˆçš„é—®é¢˜å‘€

4ä¸ªæ•°çš„å˜åŒ–æ¬¡æ•°

4 * 4 çš„æ’åˆ—ç»„åˆ

è€Œä¸”è¿™é‡Œæ˜¯éœ€è¦åˆ—ä¸¾æƒ…å†µçš„



3 * 2 

4 * 3 * 2 * 1

æ¨è¾‰ä¸‰è§’ã€åŠ¨æ€è§„åˆ’ï¼ˆæ­£åºã€ç¼“å­˜ã€å€’åºï¼‰

1

1 1

1111

åŠ¨æ€è§„åˆ’ï¼Œåˆ©ç”¨ä¸¤æ¬¡å¾ªç¯é—´çš„å…³ç³»é€’å½’

f(n) = f(n - 1) * n

å€’åºåŠ¨æ€è§„åˆ’åº”è¯¥è¿˜æ˜¯é€’å½’çš„å½¢å¼ï¼Œå›æº¯çš„æ€è·¯æ˜¯äº¤æ¢ä½ç½®ï¼Œè€Œä¸æ˜¯æ’ç©º

```javascript
// æ’ç©º
var permute = function(nums) {
  const stacks = nums.length ? [[nums[0]]] : []
  for (let i = 1;i < nums.length;i++) {
    while (stacks[0].length <= i) {
       const list = stacks.shift()
       for (let j = 0;j <= list.length;j++) {
          stacks.push(list.slice(0, j).concat(nums[i], list.slice(j)))
        }
    }
  }
  return stacks
};
```

å›æº¯æ³•-æœç´¢å›æº¯

å›æº¯æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªé€’å½’ 

é¢˜è§£æ•°ç»„é•¿å¹¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä»–æ˜¯æ€æ ·æ§åˆ¶å¾ªç¯çš„ ç›´æ¥ç”¨[1,2,3]è¿™ä¸ªä¾‹å­

 0 0 [1,2,3];

1 0 [2,1,3];

2 0 [3,1,2];3 add [3,1,2] <- [2,1,3] 2 1 [2,3,1];3 add [2,3,1]<-[2,1,3] 2 2 [2,1,3]

iä»firstå¼€å§‹ç®—



é‡æ–°æ¥

0 0 [1,2,3];

1 0 [2,1,3];

2 0 [3,1,2];3 add [3,1,2]

è¿™ä¸ªå¾ªç¯é€»è¾‘éœ€è¦æ€ä¹ˆè”æƒ³ï¼Ÿï¼Ÿ

iä¸€å¼€å§‹å¿…ç„¶ç­‰äºfirst

**iæ˜¯ä»firstå¼€å§‹çš„ï¼Œæ¶‰åŠåˆ°å¾ªç¯ä½“å’Œé€’å½’å…¥å£çš„åœ°æ–¹ä¸€å®šè¦è‡ªä¿¡çœ‹**

ä¸€èˆ¬çš„é€’å½’å°±æ˜¯æƒ³åƒæˆæœ€å°çš„å¯é‡å¤é€»è¾‘å•å…ƒï¼Œä½†æ˜¯å›æº¯å®Œå…¨ä¸åŒï¼Œå› ä¸ºé€’å½’ä¸é€’å½’ä¹‹é—´å­˜åœ¨é€’è¿›çš„å…³ç³»

é—®é¢˜ä¸€ï¼šæœ€å…ˆæ·»åŠ çš„æ•°ç»„æ˜¯è°ï¼Ÿ

[1,2,3]

é—®é¢˜äºŒï¼šoutæ›´æ”¹çš„æ¬¡åºä¼šä¸ä¼šè¢«æ‰“ä¹±ï¼Ÿ

[1,3,2]

forå¾ªç¯çš„ç¬¬ä¸€æ­¥æ˜¯åºŸçš„

åˆ°2åŠ 1å˜æˆ3ï¼Œç„¶åå°±ä¼šè¢«æ·»åŠ 

å›æº¯ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯æŒ‡æ•°çº§é€’å¢

æ·±åº¦ä¼˜å…ˆç®—æ³•æ˜¯èŠ‚çº¦ç©ºé—´çš„



çŠ¶æ€ã€çŠ¶æ€é‡ç½® å›æº¯æœç´¢ é€‰æ‹”

é€’å½’ä¸å‘ç”Ÿåœ¨å¤–é¢ï¼Œè€Œæ˜¯å‘ç”Ÿåœ¨è‡ªèº«

äº¤æ¢ã€é€’å½’ã€æ’¤å›

å‡ºå£ï¼šé€’å½’æ¬¡æ•°=æ•°ç»„é•¿åº¦

èµ·å§‹ä½ç½®å’Œæ•°ç»„é•¿åº¦

æ¯æ¬¡é€’å½’è¿›æ¥åˆ°å¾ªç¯ä½“éƒ½æ˜¯æ— äº‹å‘ç”Ÿ

ä¹¦è¯»ç™¾éï¼Œå…¶ä¹‰è‡ªç°

> å›åˆ°å¾ªç¯ä½“è®¾è®¡çš„æœ¬èº«ä¸­å»ï¼Œå¾ªç¯ä½“æ˜¯åœ¨åšä»€ä¹ˆï¼Ÿå»ºç«‹å°è±¡ï¼Œå…¥å‚ä»£è¡¨çš„
>
> æ˜¯èµ·å§‹ä½ç½®first å’Œ first äº’æ¢ä½ç½®ï¼Œè¿™ä¸€æ­¥äº§ç”Ÿçš„ç»“æœ

ç–‘æƒ‘åœ¨äºå’Œæˆ‘ç†è§£çš„å›æº¯æ˜¯æœ‰å·®åˆ«çš„ï¼Œæˆ‘ç†è§£çš„å›æº¯æ˜¯ä¼šè¿”å›åˆ°ä¸Šä¸€æ¬¡æ‰§è¡Œçš„å€¼çš„

æ‰¾ç®—æ³•æ‰§è¡Œè·¯å¾„ï¼Œå…ˆå˜èµ·å§‹å€¼ï¼Œå†å˜ä¸‹æ ‡å€¼ï¼Œç„¶åå›æº¯èµ·å§‹å€¼

ç¡®å®ä¼šå½¢æˆå›æº¯

å¦‚ä½•è¦†ç›–ï¼šå…ˆå¡«ç¬¬ä¸€ä¸ªä½ç½®ï¼šå†å¡«ç¬¬äºŒä¸ªä½ç½®ï¼Œæœ€åç¬¬ä¸‰ä¸ªä½ç½®

```javascript
var permute = function(nums) {
  const res = []
  const swap = (first , i) => {
    const val = nums[first]
    nums[first] = nums[i]
    nums[i] = val
  }
  const n = nums.length
  
 	const backtrack = first => {
		if (first === n) {
  		res.push([...nums])  
	  }
    for (let i = first;i < n;i++) {
      console.log(first, i, [...nums])
      swap(first, i)
      backtrack(first + 1)
      swap(i, first)
    }
  }
  backtrack(0)
  return res
};
permute([1,2,3])
```

èŠ±äº†å¾ˆé•¿æ—¶é—´æ²¡æœ‰ç†è§£çš„è¯å°±å†™ä¸¤éå§ï¼Œå›æº¯çš„è¿‡ç¨‹æˆ‘æ˜¯çŸ¥é“çš„ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰å¼„æ˜ç™½ï¼Œä¸ºä»€ä¹ˆèƒ½å¤Ÿè¦†ç›–æ‰€æœ‰æƒ…å†µ

```javascript
var permute = function(nums) {
  const swap = (i, j) => {
    const val = nums[i]
    nums[i] = nums[j]
    nums[j] = val
  }
  const n = nums.length
  const res = []
	const backTrack = first => {
    if (first === n) {
      res.push(...nums)
    }
    for (let i = first; i < n; i++) {
      swap(first, i )
      backTrack(first + 1)
      swap(i, first)
    }
  }
  backTrack(0)
  return res
};
```



509.æ–æ³¢é‚£å¥‘æ•°

```javascript
var fib = function(N) {
	if (N === 0) return 0
  if (N === 1) return 1
  return fib(N - 1) + fib(N - 2)
};
```

åŠ¨æ€è§„åˆ’çš„ä¸‰ç§æ¨¡å¼ï¼šæš´åŠ›é€’å½’ã€ç¼“å­˜ç»“æœã€å€’åºé€’å½’



å€’åºé€’å½’

```javascript
var fib = function(N) {
	let first = 0, second = 1, res
  if (N === 0) return first
  if (N === 1) return second
	for (let i = 2;i <= N; i++) {
    res = first + second
    first = second
    second = res
  }
  return res
};
```



51.nçš‡å

å›æº¯ç®—æ³•

å¥¹æ¨ªã€ç«–ã€æ–œéƒ½å¯èµ°ä¸€æˆ–ä¸ƒæ­¥

çº¦æŸã€å›æº¯

å›æº¯æ˜¯åŸºäºé€’å½’çš„ï¼Œä¹‹å‰æ˜¯é€šè¿‡äºŒç»´æ•°ç»„å»æ ‡è®°æ•°å­—çš„ä½ç½®ï¼Œç°åœ¨å¯ä»¥é€šè¿‡æŸä¸€ç§æ•°æ®ç»“æ„æ ‡è®°çš‡åçš„ä½ç½®

è¿”å›å€¼ä¸ä¸€æ · è¦è¾“å‡ºæ‰€æœ‰ç»“æœï¼Œææ€•æ˜¯è¦æ¢ä¸ªæ€è·¯çš„

æŒæ¡çš„æ¡ä»¶æœ‰å“ªäº›ï¼Ÿnä¸ªçš‡åï¼Œæˆ‘ä¸éœ€è¦æŠŠæ‰€æœ‰éƒ½éå†å®Œï¼Œåªéœ€è¦æŠŠæ‰€æœ‰çš‡åéƒ½åˆ†é…å‡ºå»

è§£å†³æ–¹æ¡ˆæ˜¯ä¸€å¥—å¥—çš„ è¦ç”¨ä¸€ä¸ªæ•°ç»„å»ä¿å­˜æ‰€æœ‰ç»“æœ

1 ä¸æ˜¯1æ­¥æˆ–7æ­¥ï¼Œè€Œæ˜¯æ¨ªç«–æ–œï¼Œé‚£æˆ‘çš„çº¦æŸæ¡ä»¶å°±æ˜¯ä¸å¯¹çš„

æ¨ªç«–æ–œï¼ˆæ’‡ã€æºï¼‰

çº¦æŸã€é€’å½’ï¼Œç©ºé—´æ¢æ—¶é—´

ä¸€ä¸ªé€’å¢ã€ä¸€ä¸ªé€’å‡

æ€ä¹ˆçœ‹å¯¹è§’çº¿ä¸Šæœ‰æ²¡æœ‰çš‡åï¼Œä¸”ä¸ç”¨ç»è¿‡å¤ªå¤šéå†

æ€ç»´åº”è¯¥åè¿‡æ¥ï¼Œä»…ä¿å­˜çš‡åçš„é›†åˆï¼Œç›´æ¥æ£€æŸ¥queens

ç”¨å‡½æ•°è¡¨ç¤ºå¯¹è§’çº¿y = nx  y=(N-n)x

22

11ã€33

13

å¾ªç¯åŒ…è£¹æœ‰é—®é¢˜queensæ‰æ˜¯é€’å½’çš„ä¸»ä½“

æ—¢ç„¶æ˜¯nçš‡åï¼Œä»£è¡¨æ•°ç»„ä¸€ä¸­å¿…ç„¶å­˜åœ¨ä¸€ç§å¯èƒ½ï¼Œæˆ‘å°±ç›´æ¥ä¸€ä¸ªæ•°ç»„ä¸€ä¸ªæ•°ç»„çš„æ”¾ç„¶åæ£€æŸ¥å°±å¯ä»¥äº†ï¼Œå›æº¯è‚¯å®šè¿˜æ˜¯è¦å›æº¯ï¼Œä½†è¿™ä¸ªé¢˜æ¯”ä¹‹å‰çš„è§£æ•°ç‹¬è¦ç®€å•ï¼Œè¦è¿”å›ä¸åŒçš„è§£å†³æ–¹æ¡ˆ



ç©ºé—´æ¢æ—¶é—´



å›æº¯æ³• æ–¹æ³•æ˜¯å¯¹äº† å°±æ˜¯è¿™é‡Œæœ‰ä¸€äº›é¢å¤–çš„æŸè€— æ¯”å¦‚fill æ¯”å¦‚å¯¹è§’çº¿åˆ¤æ–­ é¢˜ç›®ä¸­é‡‡ç”¨ç©ºé—´æ¢æ—¶é—´çš„æ–¹å¼è§„é¿æ‰äº†

```javascript
var solveNQueens = function(n) {
  const res = []
  const queens = []
  const canPlace = (i, j) => queens.every((y, x) => x !== i && y !== j && Math.abs((y - j) / (x - i)) !== 1)
  
  const genRes = () => new Array(n).fill(null).map((_, idx) => new Array(n).fill('.').map((str, j) => j === queens[idx] ? 'Q' : str).join(''))
  
  function backTrack(i) {
    for (let j = 0; j < n; j++) {
      if (canPlace(i, j)) {
        queens.push(j)
        placeNext(i)
        queens.pop()
      }
    }
  }
 
  function placeNext(i) {
    const idx = i + 1
    if (idx === n) {
      res.push(genRes())
      return
    } else {
      backTrack(idx)
    }
  }
  backTrack(0)
  return res
};
```

æœ‰å¾ˆå¤šå¤šä½™çš„åˆ¤æ–­

æ•°ç»„ä¿å­˜çš„æ˜¯ä¸€ä¸ªè®¡æ•°å™¨

å¯¹è§’çº¿åˆ¤æ–­

ç©ºé—´æ¢æ—¶é—´

è§£é¢˜æ•ˆç‡è¿˜éœ€è¦å¤§å¤§æé«˜

```javascript
var solveNQueens = function (n) {
  const rows = []
  const dales = []
  const hills = []
  const res = []
  const queens = []
  // row - col + 2*n æ˜¯ä¸ºäº†é˜²æ­¢å‡ºç°è´Ÿæ•°
  const isNotUnderAttack = (row, col) => (rows[col] || 0 + dales[row - col + 2 * n] || 0 + hills[row + col] || 0) === 0
  
  const placeQueen = (row, col) => {
    queens[row] = col
    rows[col] = 1
    dales[row - col + 2 * n] = 1
    hills[row + col] = 1
  } 
  
  const removeQueen = (row, col) => {
    queens[row] = 0
    rows[col] = 0
    dales[row - col + 2 * n] = 0
    hills[row + col] = 0
  }
  
  const addSolution = () => {
    res.push(new Array(n).fill(null).map((_, idx) => new Array(queens[idx]).fill('.').concat('Q', new Array(n - queens[idx] - 1).fill('.')).join('')))
  }
  
  function backtrack(row) {
    for (let col = 0; col < n; col++) {
      if (isNotUnderAttack(row, col)) {
        placeQueen(row, col)
        if (row === n - 1) addSolution()
        else backtrack(row + 1)
        removeQueen(row, col)
      }
    }
  }
  
  backtrack(0)
  return res
}
```



71.ç®€åŒ–è·¯å¾„

è¦æƒ³åŠæ³•æé«˜è§£é¢˜çš„æ•ˆç‡äº†ï¼Œä¸èƒ½æ¯å¤©åªåˆ·ä¸€é“é¢˜äº†ï¼Œè¦ä¸å°±å…¨åˆ·äº†æäº¤ç„¶åä¸€èµ·å¯¹ç­”æ¡ˆï¼Œä¸è¦åˆ·ä¸€é“çœ‹ä¸€é“



ç”¨æ ˆå°±å¯ä»¥è§£å†³

1. æ€»æ„Ÿè§‰æ€è·¯é”™äº†
2. åšé¢˜é€Ÿåº¦å¤ªæ…¢äº†

å‘½ä»¤æ˜¯æœ‰é™çš„ã€åç½®æ‰§è¡Œ

ç»„åˆæƒ…å†µæ¯”è¾ƒå¤æ‚

.. åé¢æ‹¼æ•°å­—ï¼Œæ€ä¹ˆæ ·å†™æ‰ä¼˜é›…

åˆ†æå‡ ç§ç‰¹æ®Šæƒ…å†µå§ ../ .. éƒ½æ˜¯éœ€è¦å›é€€çš„

è€Œ..abcæ˜¯ä¸å›é€€å‡ºçš„ï¼Œæˆ‘å¯ä»¥ä»¤ç©ºç™½='/'ä»¥åé‡åˆ°../å°±å›é€€

åˆ¤æ–­çš„æ˜¯ä¸¤ä¸ªç›¸è¿‘çš„å‘½ä»¤ï¼Œè€Œä¸æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ŒJSæ²¡æœ‰æšä¸¾ç±»å‹ï¼Œå¯ä»¥ä¸€è¾¹æ”¶é›†ä¸€è¾¹åˆ¤æ–­ï¼Œå› ä¸ºæ²¡æœ‰è·¨å±‚çº§çš„å½±å“ï¼Œåç½®åˆ¤æ–­ï¼Œåˆå¹¶å¤šä¸ªpath

å†™ç¨‹åºï¼Œå…ˆå®šç»“æ„ï¼Œå†å†™å®ç°

lastæœ‰å¯èƒ½ä¸å­˜åœ¨ æˆ‘è¿™é‡Œä¸»è¦æ˜¯å¤„ç†lastçš„æƒ…å†µ

è¿˜æœ‰å‰åä¸¤æ®µéœ€è¦æ‹¼èµ·æ¥çš„æƒ…å†µï¼Œå¤„ç†lastä¼šå–åˆ°é‡å¤æ•°æ®ï¼Œå› ä¸ºå­˜åœ¨åç½®è¿½åŠ ..abcå’Œå‰ç½®åˆ¤æ–­ä¸¤ç§æƒ…å†µ../

æ„Ÿè§‰åƒä¸€ç§é¦–å°¾ç›¸è¿çš„å‡½æ•°ä½“ï¼Œæˆ‘æƒ³æŠŠstacksç»™å»æ‰

ä¸‰ç§æ–¹å¼ï¼š

è¿”å›æ–°å‡½æ•°ï¼›é—­åŒ…nextï¼›ç›´æ¥å°è£…å¯¹preã€currentçš„æ“ä½œã€‚ç¬¬ä¸‰ç§æœ€åˆé€‚ï¼Œå‰ä¸¤ç§over designï¼Œç‰¹æ®Šæ“ä½œï¼Œåˆ¤æ–­å‰ç½®å’Œåç½®.. å’Œ / åªèƒ½åˆ¤æ–­ä¸€æ¬¡ï¼Œå…¶å®reduceæœ€åˆé€‚ï¼Œè¦é¿å…/..qww  qww/.. æ„Ÿè§‰åƒä¸‰çº§è”åŠ¨ /../sdd..èƒ½ä¸èƒ½åœ¨æ”¶é›†é˜¶æ®µå°±è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿï¼Ÿ

2019..

..2019



over designäº†ï¼Œæ²¡æœ‰è®¤çœŸåˆ†æå°±åŠ¨æ‰‹äº†ï¼Œ/å…¶å®ä»£è¡¨çš„å°±æ˜¯åˆ†å‰²ç¬¦ï¼Œ.   .. ä»£è¡¨çš„éƒ½æ˜¯å‘½ä»¤æˆ–æ“ä½œï¼Œé™¤æ­¤ä¹‹å¤–éƒ½æ˜¯è·¯å¾„

```javascript
var simplifyPath = function(path) {
  const list = path.split('/').filter(str => !!str)
  const stacks = []
  list.forEach(path => {
    if (path === '..') {
      stacks.pop()
    } else if (path !== '.') {
      stacks.push(path)
    }
  })
  return `/${stacks.join('/')}`
};
```



79.å•è¯æœç´¢

æ„Ÿè§‰ä¹Ÿåƒæ˜¯å›æº¯çš„ä¸€ç§å½¢å¼å°è¯•ä¸€ä¸ªå•è¯çš„ä¸Šä¸‹å·¦å³4ä¸ªæ–¹å‘

åˆå§‹åŒ–æ˜¯æ‰¾ç¬¬ä¸€ä¸ªå•è¯è¿˜æ˜¯æ‰¾ä»»æ„å•è¯ï¼Ÿè¿™ä¸€æ­¥å…¶å®æ—¶é—´å¤æ‚åº¦æ˜¯å›ºå®šçš„

çº¦æŸã€å›æº¯ï¼Œå…ˆæç®€å•ç‚¹ ä»ç¬¬ä¸€ä¸ªå•è¯å…¥æ‰‹å§

ä¸€ç§æ˜¯ä»ç¬¬ä¸€ä¸ªå•è¯å¼€å§‹æ‰¾æ˜¯å•å‘çš„ï¼Œæ¯”è¾ƒå®¹æ˜“

å¦ä¸€ç§æ˜¯ä»ä»»æ„å•è¯å¼€å§‹æ‰¾ï¼Œæ˜¯åŒå‘çš„ï¼Œå¤æ‚ä¸€ç‚¹ï¼Œç†è®ºä¸Šä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯çº¦æŸï¼ˆåŠ¨æ€çº¦æŸï¼‰

å›æº¯çš„ä¸»ä½“æ˜¯è°ï¼Ÿå­—ç¬¦ä¸²ï¼›å›æº¯çš„çº¦æŸæ€ä¹ˆäº§ç”Ÿï¼Ÿä¸Šä¸‹å·¦å³

å›æº¯æœ€ç»ˆä¹Ÿåªæ˜¯é€’å½’çš„ä¸€ç§å½¢å¼ï¼ŒæŠŠé€’å½’åƒé€ï¼Œå›æº¯ä¸æ˜¯é—®é¢˜ï¼Œåƒä¸‡ä¸è¦å›ºæ­¥è‡ªå°ï¼Œå˜å¹»æ–¹å‘ä¼šå½±å“çº¦æŸæ¡ä»¶

åè¿‡æ¥æƒ³æˆæ˜¯å¡«æ•°å‘¢ï¼Ÿ

laståªèƒ½åˆ¤æ–­ä¸€ä¸ªï¼Œä¸è¶³ä»¥åˆ¤æ–­æ‰€æœ‰

å› ä¸ºç¬¬ä¸€ä¸ªæ•°æ²¡æœ‰è¢«æˆ‘è®¡ç®—åœ¨å†…

backTrack placeNext canPlace remove

```javascript
var exist = function(board, word) {
  const wordList = new Array(board.length).fill(null).map((_, idx) => new Array(board[idx].length))
  const backTrack = (i, j, idx) => {
		if (idx === word.length) {
      return true
    }
    const list = [[i + 1, j], [i - 1, j], [i, j + 1], [i, j - 1]].filter(([x, y]) => x >= 0 && x < board.length && y >= 0 && y < board[x].length)
    for (const current of list) {
      const [x, y] = current
      if (board[x][y] === word[idx] && !wordList[x][y]) {
        wordList[x][y] = 1
        if (backTrack(x, y, idx + 1, current)) return true
        wordList[x][y] = 0
      }
    }
    return false
  }
	for (let i = 0; i < board.length; i++) {
    for (let j = 0; j < board[i].length; j++) {
      if (word[0] === board[i][j]) { // ä»è¿™é‡Œå¼€å§‹ç¼©å°çº¦æŸèŒƒå›´
        wordList[i][j] = 1
        if (backTrack(i, j, 1)) return true
        wordList[i][j] = 0
      }
    }
  }
  return false
};


var word = "ABCB"
var test = [
  ["A","B","C","E"],
  ["S","F","C","S"],
  ["A","D","E","E"]
]
```

å¦ä¸€ç§è§£æ³•æ˜¯åè¿‡æ¥çš„ï¼Œå¯ä»¥ç†è§£ä¸ºæ˜¯åœ¨äºŒç»´å¹³é¢ä¸Šæœç´¢å•è¯ï¼Œå…¶å®é¢˜ç›®å·²ç»è¯´å¾—å¾ˆæ¸…æ¥šäº†ï¼Œå¯ä»¥å°è¯•ä¸€ä¸‹æ”¹åŸå§‹æ•°ç»„

```javascript
var exist = (board, word) => {
  const wordList = new Array(board.length).fill(null).map((_, idx) => new Array(board[idx].length))
  // çº¦æŸ
  const canPlace = (x, y, idx) => board[x][y] === word[idx] && !wordList[x][y]
  // çŠ¶æ€é‡ç½®
  const remove = (x, y) => {
    wordList[x][y] = 0
  }
  const add = (x, y) => {
    wordList[x][y] = 1
  }
	function placeNext(i, j, idx) {
    idx += 1
    if (idx === word.length) return true
    const list = [[i + 1, j], [i - 1, j], [i, j + 1], [i, j - 1]].filter(([x, y]) => x >= 0 && x < board.length && y >= 0 && y < board[x].length)
    for (const [x, y] of list) {
      if (backTrack(x, y, idx)) return true
    }
  }
  function backTrack(x, y, idx) {
    if (canPlace(x, y, idx)) {
      add(x, y)
      if (placeNext(x, y, idx)) return true
      remove(x, y)
    }
  }
  for (let i = 0;i < board.length;i++) {
    for (let j = 0;j < board[i].length;j++) {
      if (backTrack(i, j, 0)) return true
    }
  }
  return false
}

exist([["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]], "ABCCED")
```



94.äºŒå‰æ ‘çš„ä¸­åºéå†

è¿­ä»£ left right valï¼Œç¬¬äºŒæ¬¡è®¿é—®æ—¶çŠ¶æ€æ€ä¹ˆåŠï¼Œå‹æ ˆï¼Œæ˜¯åªéœ€è¦è®¿é—®ä¸€æ¬¡ï¼Œåº”è¯¥åæ¨æƒ³è¦è¾¾åˆ°ä¸­åºéå†åº”è¯¥ä»¥ä»€ä¹ˆæ ·çš„æ–¹å¼å‹æ ˆï¼Œå¦‚æœå»è®°å½•å·²ç»è®¿é—®çš„èŠ‚ç‚¹ï¼Œé‚£å°±å¾ˆç®€å•å°±èƒ½å®ç°ï¼Œç”¨WeakSetï¼Œæˆ‘çš„æœŸæœ›ç©ºé—´å¤æ‚åº¦ä¸º0ï¼Œä¸”ä¸æ”¹å˜åŸå§‹æ•°ç»„ï¼Œä¸€å®šæ˜¯ä»æ ¹ä¸Šå¼€å§‹è®¿é—®å—ï¼Ÿï¼Ÿ

```javascript
// æ ˆ
var inorderTraversal = function(root) {
		const stacks = root ? [root] : []
    const res = []
  	while (stacks.length) {
     	const node = stacks[stacks.length - 1]
      if (node.left && !node.hasVisited) {
        node.hasVisited = true
        stacks.push(node.left)
        continue
      }
			delete node.hasVisited
      res.push(node.val)
      stacks.pop()
      if (node.right) {
       	stacks.push(node.right) 
      }
    }
  	return res
};

```

æ ˆ-ä¸ç ´ååŸæœ‰ç»“æ„-å€ŸåŠ©ä¸€ä¸ªå˜é‡å®ç°ï¼Œä»”ç»†çœ‹å®ƒå…¥æ ˆçš„æ–¹å¼ï¼Œæœ‰ä¸€å±‚**é€’å½’åµŒå¥—**ï¼Œä¸è¦å›é¿å¾ªç¯åµŒå¥—ï¼ŒåµŒå¥—ä¸ç­‰äºæ—¶é—´å¤æ‚åº¦é«˜

curå…¶å®ä»£è¡¨çŠ¶æ€ï¼Œå‰pushåpopï¼Œå…¶å®éœ€è¦å…³è”ä¸€ä¸ªæ¨¡å‹ï¼Œå…¶å®æˆ‘çŸ¥é“ç”¨æ ˆï¼Œä½†æˆ‘ä¸çŸ¥é“å¦‚ä½•å†™

```javascript
var inorderTraversal = function(root) {
  const stacks = []
  const res = []
  let cur = root
  while (cur || stacks.length) {
    if (cur) {
      stacks.push(cur)
      cur = cur.left
      continue
    }
    cur = stacks.pop()
    res.push(cur.val)
    cur = cur.right
  }
  return res
}
```

è«é‡Œæ–¯ç®—æ³•-çº¿ç´¢äºŒå‰æ ‘-è«é‡Œæ–¯ç®—æ³•-å‰é©±èŠ‚ç‚¹-ä¼šæ”¹å˜æ ‘çš„ç»“æ„-ç›¸å½“äºæŠŠå·¦å­æ ‘çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹è¿æ¥èµ·æ¥ï¼Œç›¸å½“äºè‡ªå·±å»ºç«‹äº†ä¸€æ¡è®¿é—®ä½ çš„é“¾è·¯ï¼Œåªæœ‰å½“å·¦å­æ ‘æ²¡æœ‰çš„æ—¶å€™æ‰ä¼šæ·»åŠ valï¼Œè®¿é—®è¿‡äº†å°±æŠŠå·¦å­æ ‘æ¸…ç©º

ç±»ä¼¼äºç©¿é’ˆå¼•çº¿ æ˜¯ä¸€ç§ç©ºé—´ä¼˜åŒ–çš„ç­–ç•¥

```javascript
var inorderTraversal = function(root) {
  let cur = root
  let pre
  const res = []
  while (cur) {
    if (!cur.left) {
      res.push(cur.val)
      cur = cur.right
    } else {
      let pre = cur.left
      while (pre.right) {
        pre = pre.right
      }
      pre.right = cur
      const temp = cur
      cur = cur.left
      temp.left = null
    }
  }
  return res
}
```





98.éªŒè¯äºŒå‰æœç´¢æ ‘

é€’å½’ä¹ˆ? å·¦è¾¹æœ€å¤§çš„æ•°å­—å’Œå³è¾¹æœ€å°çš„æ•°

é€’å½’

æœç´¢äºŒå‰æ ‘å«ä¹‰å¯èƒ½ä¸æ˜¯å¾ˆæ¸…æ¥š

**ä¸Šç•Œå’Œä¸‹ç•Œçš„é€ä¼ **ï¼Œå°±ç®—ä½ çŸ¥é“ï¼Œä½ ä¹Ÿä¸ä¸€å®šçŸ¥é“æ€ä¹ˆå†™ï¼Œè¿™å°±æ˜¯ç†Ÿç»ƒåº¦ï¼Œå¾ªç¯ä½“çš„è®¾è®¡æ°¸è¿œæ˜¯æœ€å…³é”®çš„æ­¥éª¤

è¿˜æ˜¯ä¹‹å‰é‚£ä¸ªæ€è·¯ï¼Œå…ˆåˆ—ç‚¹ï¼Œç„¶åä¸²é€»è¾‘ï¼Œè¿™ä¸ªæ€è·¯æ˜¯å‘è¿‡æ¥çš„ï¼Œæˆ‘çš„æƒ³æ³•å±€é™äºæ¯”è¾ƒè‡ªèº«çš„å·¦å³èŠ‚ç‚¹ï¼Œè€Œè¿™é‡Œä¸æ˜¯ï¼Œè‡ªèº«åªè·Ÿä¸Šä¸‹å±Šæ¯”è¾ƒï¼Œç„¶åé€šè¿‡é€’å½’æ›´æ–°ä¸Šä¸‹ç•Œ

```javascript
var isValidBST = function(root) {
  
  const isValid = (node, lower, higher) => {
    if (!node) return true
    return node.val > lower && node.val < higher && isValid(node.left, lower, node.val) && isValid(node.right, node.val, higher)
  }
  
	return isValid(root, -Infinity, +Infinity)
}
```

ä¸­åºéå†æˆé€’å¢æ•°ç»„ - è«é‡Œæ–¯ç®—æ³•æ€§èƒ½ä¼šæ›´é«˜

æ ˆ

```javascript
var isValidBST = function(root) {
 	const stacks = []
	const res = []
  let cur = root
  let val = -Infinity
  while (cur || stacks.length) {
    while (cur) {
      stacks.push(cur)
      cur = cur.left
    }
    cur = stacks.pop()
		if (cur.val > val) {
      val = cur.val
    } else {
      return false
    }
    cur = cur.right
  }
  return true
}
```

è«é‡Œæ–¯ç®—æ³• æ„Ÿè§‰æŠŠè¿™ä¸ªä¸œè¥¿ç»™è®°æ­»äº†

```javascript
var isValidBST = function(root) {
  let pre
	let val = -Infinity
  let cur = root
  while (cur) {
    if (!cur.left) {
      if (cur.val > val) {
        val = cur.val
      } else {
        return false
      }
      cur = cur.right
    } else {
     	pre = cur.left
      while (pre.right) {
        pre = pre.right
      }
      pre.right = cur
      const temp = cur
      cur = cur.left
      temp.left = null
    }
  }
  return true
}
```



# æœ€å°ç”Ÿæˆæ ‘

> æ— ç†æ•°ï¼Œæ— é™ä¸å¾ªç¯å°æ•°
>
> lgN = x  10^x = N

